<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goldantelope ASIA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* –°–∫—Ä—ã–≤–∞–µ–º "–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω" –¥–ª—è file input */
        input[type="file"] {
            color: transparent;
        }
        input[type="file"]::-webkit-file-upload-button {
            visibility: visible;
            background: #d4af37;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }
        input[type="file"]::file-selector-button {
            background: #d4af37;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #ffffff;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(200, 200, 200, 0.05) 10px, rgba(200, 200, 200, 0.05) 20px),
                repeating-linear-gradient(-45deg, transparent, transparent 10px, rgba(200, 200, 200, 0.05) 10px, rgba(200, 200, 200, 0.05) 20px);
            color: #333; 
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        .header { 
            margin-bottom: 30px; 
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            border: 3px solid #d4af37;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .header-top {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            justify-content: space-between;
        }
        .header-logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .header-logo {
            height: 60px;
            width: auto;
            border-radius: 6px;
        }
        .header h1 { 
            font-size: 28px; 
            margin: 0;
            color: #333; 
            flex: 1;
        }
        .country-selector { 
            display: flex; 
            gap: 10px;
            border: 2px solid #d4af37;
            padding: 10px 15px;
            border-radius: 8px;
        }
        .country-btn { padding: 10px 20px; border: 2px solid #ddd; background: #fff; cursor: pointer; border-radius: 6px; font-size: 14px; color: #666; transition: all 0.2s; }
        .country-btn.active { border-color: #d4af37; background: #d4af37; color: #333; }
        .country-btn:hover { border-color: #d4af37; }
        .rates-display {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            padding: 12px 15px;
            background: #fafafa;
            border-radius: 8px;
            align-items: center;
            justify-content: center;
            border: 1px solid #e0e0e0;
        }
        .rate-item {
            text-align: center;
        }
        .rate-label {
            font-size: 11px;
            color: #999;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .rate-value {
            font-size: 14px;
            color: #d4af37;
            font-weight: bold;
        }
        .status-bar { display: none; }
        .status-item { display: none; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; }
        .status-dot.online { background: #31a24c; }
        .status-dot.offline { background: #f04747; }
        
        .tabs { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); 
            gap: 8px; 
            margin-bottom: 20px;
            padding: 12px;
            background: #ffffff;
            border-radius: 8px;
        }
        .tab { 
            padding: 15px 10px; 
            cursor: pointer; 
            border: none; 
            background: transparent;
            color: #333; 
            font-size: 10px; 
            border-radius: 12px;
            transition: all 0.3s;
            font-weight: 600;
            text-align: center;
            box-shadow: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .tab.active { 
            background: #ffffff;
            color: #333;
            border: 2px solid #d4af37;
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
            transform: scale(1.1);
            opacity: 1;
        }
        .tab:hover { 
            transform: translateY(-5px);
            opacity: 0.8;
        }
        .tab.active:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        
        .content { 
            display: none;
            background: #ffffff;
            padding: 0;
            border-radius: 8px;
        }
        .content > .listing-grid,
        .content > .empty,
        .content > .loading {
            padding: 15px;
        }
        .content.active { display: block; }
        
        .listing-grid { 
            display: grid !important; 
            grid-template-columns: repeat(3, 1fr) !important; 
            gap: 15px !important; 
            margin-bottom: 30px; 
            width: 100%;
        }
        
        @media (max-width: 992px) {
            .listing-grid { grid-template-columns: repeat(2, 1fr) !important; }
        }
        
        @media (max-width: 600px) {
            .listing-grid { grid-template-columns: 1fr !important; gap: 12px !important; }
        }
        
        .card {
            background: #ffffff;
            border-radius: 8px;
            padding: 12px;
            border: 1px solid #e0e0e0;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
            min-height: 150px;
        }
        
        .card h3 {
            font-size: 14px;
            margin-bottom: 8px;
            color: #0084ff;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.3;
            max-height: 2.6em;
        }
        
        .card p {
            font-size: 12px;
            color: #666;
            line-height: 1.5;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            max-height: 6em;
        }
        
        .card-slider {
            position: relative;
            width: 100%;
            height: 180px;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
            background: #f0f0f0;
        }
        
        .card-slider img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .card-slider img.active {
            opacity: 1;
        }
        
        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.4);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            z-index: 10;
        }
        
        .slider-nav:hover { background: rgba(0,0,0,0.7); }
        .slider-nav.prev { left: 5px; }
        .slider-nav.next { right: 5px; }
        
        .slider-dots {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 4px;
            z-index: 10;
        }
        
        .slider-dot {
            width: 6px;
            height: 6px;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
        }
        
        .slider-dot.active {
            background: #fff;
        }
        .card:hover { border-color: #0084ff; background: #f9f9f9; box-shadow: 0 2px 8px rgba(0,132,255,0.1); }
        .card h3 { font-size: 16px; margin-bottom: 8px; color: #0084ff; }
        .card p { font-size: 13px; color: #666; line-height: 1.6; }
        .card .meta { font-size: 12px; color: #999; margin-top: 10px; }
        
        .filters {
            background: #f5f5f5;
            padding: 12px 0;
            border-radius: 0;
            margin-bottom: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 8px;
            border: none;
            border-bottom: 1px solid #e0e0e0;
        }
        .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

            padding: 8px 12px;
            background: #ffffff;
            border: 1px solid #ddd;
            color: #333;
            border-radius: 4px;
            font-size: 13px;
        }
        .filters input:focus, .filters select:focus {
            outline: none;
            border-color: #0084ff;
            box-shadow: 0 0 0 2px rgba(0,132,255,0.1);
        }
        
        .btn {
            padding: 8px 16px;
            background: #0084ff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }
        .btn:hover { background: #0073e6; }
        .btn.secondary { background: #f0f0f0; color: #333; border: 1px solid #ddd; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 15px; }
        .stat-box { background: #ffffff; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #d4af37; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .stat-box .number { font-size: 28px; font-weight: bold; color: #d4af37; margin-bottom: 5px; }
        .stat-box .label { font-size: 12px; color: #666; }
        
        .category-link {
            cursor: pointer;
            color: #0084ff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            border-radius: 4px;
            padding: 2px 4px;
        }
        .category-link:hover {
            text-decoration: underline;
            background: rgba(0, 132, 255, 0.1);
        }
        
        .loading { text-align: center; padding: 40px; color: #999; }
        .spinner { display: inline-block; width: 20px; height: 20px; border: 2px solid #e0e0e0; border-top-color: #0084ff; border-radius: 50%; animation: spin 0.8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .empty { text-align: center; padding: 40px; color: #999; }
        
        .banner {
            width: 100%;
            height: 30px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #f5f5f5;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            position: relative;
            display: block;
            z-index: 5;
            overflow: hidden;
            border: 3px solid #d4af37;
        }

        /* Responsive banner sizes */
        @media (max-width: 1024px) {
            .banner { height: 25px; }
        }
        
        @media (max-width: 768px) {
            .banner { height: 150px; margin-bottom: 15px; }
        }

        @media (max-width: 480px) {
            .banner { height: 120px; margin-bottom: 10px; }
        }
        
        .banner-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex !important;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.2s;
            z-index: 100;
            pointer-events: auto;
        }
        
        .banner-nav:hover {
            background: rgba(212, 175, 55, 0.8);
            color: #333;
        }
        
        .banner-nav.prev { left: 10px; }
        .banner-nav.next { right: 10px; }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .tab img {
            width: 62px;
            height: 62px;
            object-fit: contain;
        }
        
        .tab span {
            font-size: 11px;
            max-width: 100px;
            word-break: break-word;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
        @media (max-width: 768px) {
            .container { padding: 10px; }
            
            .header {
                margin-bottom: 20px;
                padding: 15px;
                border: 2px solid #d4af37;
            }
            
            .header-top {
                flex-direction: column;
                gap: 15px;
                margin-bottom: 15px;
            }
            
            .header-logo-section {
                width: 100%;
                justify-content: center;
            }
            
            .header-logo {
                height: 50px;
            }
            
            .header h1 {
                font-size: 20px;
                text-align: center;
            }
            
            .country-selector {
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
                gap: 8px;
                padding: 8px 10px;
                border: 2px solid #d4af37;
            }
            
            .country-btn {
                padding: 8px 12px;
                font-size: 12px;
                flex: 1;
                min-width: 80px;
            }
            
            .banner {
                height: auto;
                aspect-ratio: 21 / 9;
                min-height: 120px;
                margin-bottom: 15px;
            }
            
            .tabs {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
                gap: 8px;
                margin-bottom: 20px;
                padding: 12px;
                border-radius: 6px;
            }
            
            .tab {
                padding: 15px 10px;
                font-size: 9px;
                gap: 4px;
            }
            
            .tab img {
                width: 50px;
                height: 50px;
            }
            
            .tab span {
                font-size: 9px;
                max-width: 80px;
                line-height: 1.2;
            }
            
            .content {
                padding: 0;
                border-radius: 6px;
            }
            
            .content > .listing-grid,
            .content > .empty,
            .content > .loading {
                padding: 12px;
            }
            
            .grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .card {
                padding: 12px;
                border-radius: 6px;
            }
            
            .card h3 {
                font-size: 14px;
            }
            
            .card p {
                font-size: 12px;
            }
            
            .card .meta {
                font-size: 11px;
            }
            
            .filters {
                padding: 10px 0;
                grid-template-columns: 1fr;
                gap: 8px;
                border-radius: 0;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

                padding: 8px 10px;
                font-size: 12px;
                width: 100%;
                box-sizing: border-box;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .stat-box {
                padding: 12px;
                border-radius: 6px;
                border: 2px solid #d4af37;
            }
            
            .stat-box .number {
                font-size: 20px;
            }
            
            .stat-box .label {
                font-size: 11px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 12px;
            }
            
            .loading, .empty {
                padding: 30px;
            }
        }
        
        /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã (< 480px) */
        @media (max-width: 480px) {
            .container { padding: 8px; }
            
            .content {
                padding: 0;
            }
            
            .content > .listing-grid,
            .content > .empty,
            .content > .loading {
                padding: 10px;
            }
            
            .filters {
                padding: 8px 0;
                border-radius: 0;
                border-bottom: 1px solid #e0e0e0;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

                padding: 6px 8px;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header {
                padding: 10px;
                margin-bottom: 15px;
            }
            
            .header-top {
                gap: 10px;
            }
            
            .header-logo {
                height: 40px;
            }
            
            .header h1 {
                font-size: 16px;
            }
            
            .country-selector {
                padding: 6px 8px;
                gap: 6px;
            }
            
            .country-btn {
                padding: 6px 10px;
                font-size: 11px;
                min-width: 70px;
            }
            
            .banner {
                height: auto;
                aspect-ratio: 16 / 9;
                min-height: 100px;
                margin-bottom: 10px;
            }
            
            .tabs {
                grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
                gap: 6px;
                padding: 10px;
                margin-bottom: 15px;
            }
            
            .tab {
                padding: 12px 8px;
                font-size: 8px;
                gap: 2px;
            }
            
            .tab img {
                width: 45px;
                height: 45px;
            }
            
            .tab span {
                font-size: 8px;
                max-width: 70px;
            }
            
            .content {
                padding: 10px;
            }
            
            .grid {
                gap: 10px;
            }
            
            .card {
                padding: 10px;
            }
            
            .card h3 {
                font-size: 13px;
            }
            
            .card p {
                font-size: 11px;
            }
            
            .filters {
                padding: 10px;
                gap: 6px;
            }
            
            .filters input, .filters select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .tour-grid-container {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 12px !important;
            }
            .tour-city-btn {
                border-width: 4px !important;
            }
            .tour-city-btn .city-info {
                padding: 6px !important;
            }
            .tour-city-btn .city-name {
                font-weight: bold;
                font-size: 14px !important;
            }
            .tour-count {
                font-size: 11px !important;
            }
        }

                padding: 7px;
                font-size: 11px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stat-box {
                padding: 10px;
            }
            
            .stat-box .number {
                font-size: 18px;
            }
            
            .stat-box .label {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <img src="/static/images/logo.png" alt="Goldantelope" style="height: 100px; width: auto;">
                <div class="country-selector">
                    <button class="country-btn active" onclick="switchCountry('vietnam')">üáªüá≥ –í—å–µ—Ç–Ω–∞–º</button>
                    <button class="country-btn" onclick="switchCountry('thailand')">üáπüá≠ –¢–∞–π–ª–∞–Ω–¥</button>
                    <button class="country-btn" onclick="switchCountry('india')">üáÆüá≥ –ò–Ω–¥–∏—è</button>
                    <button class="country-btn" onclick="switchCountry('indonesia')">üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è</button>
                </div>
                <div class="rates-display" id="rates-display">
                    <div class="rate-item">
                        <div class="rate-label"><span style="color: #d4af37;">‚Çø</span> BTC</div>
                        <div class="rate-value" id="btc-rate">$--</div>
                    </div>
                    <div class="rate-item">
                        <div class="rate-label">üíµ <span id="local-pair">VND/USDT</span></div>
                        <div class="rate-value" id="local-rate">--</div>
                    </div>
                    <div class="rate-item">
                        <div class="rate-label">üíµ <span id="rub-pair">RUB/VND</span></div>
                        <div class="rate-value" id="rub-rate">--</div>
                    </div>
                    <div class="rate-item">
                        <div class="rate-label">üë• –ù–∞ –ø–æ—Ä—Ç–∞–ª–µ</div>
                        <div class="rate-value" id="online-count">--</div>
                    </div>
                </div>
            </div>
            
            <div class="status-bar">
                <div class="status-item">
                    <span class="status-dot online"></span>
                    <span>–ü–∞—Ä—Å–µ—Ä: <strong id="parser-status">–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</strong></span>
                </div>
                <div class="status-item">
                    <span>–í—Å–µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π: <strong id="total-items">0</strong></span>
                </div>
                <div class="status-item">
                    <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ: <strong id="last-update">--:--</strong></span>
                </div>
            </div>
        </div>

        <div id="banner" class="banner">
            <button class="banner-nav prev" onclick="event.stopPropagation(); changeBanner(-1)">‚Äπ</button>
            <button class="banner-nav next" onclick="event.stopPropagation(); changeBanner(1)">‚Ä∫</button>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="entertainment" onclick="switchTab('entertainment')"><img src="/static/icons/entertainment.jpg" alt="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è"><span>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</span></button>
            <button class="tab" data-tab="restaurants" onclick="switchTab('restaurants')"><img src="/static/images/icons/restaurants.jpg" alt="–†–µ—Å—Ç–æ—Ä–∞–Ω—ã"><span>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</span></button>
            <button class="tab" data-tab="tours" onclick="switchTab('tours')"><img src="/static/images/icons/tours.jpg" alt="–≠–∫—Å–∫—É—Ä—Å–∏–∏"><span>–≠–∫—Å–∫—É—Ä—Å–∏–∏</span></button>
            <button class="tab" data-tab="transport" onclick="switchTab('transport')"><img src="/static/icons/transport.png" alt="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"><span>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span></button>
            <button class="tab" data-tab="realestate" onclick="switchTab('realestate')"><img src="/static/icons/realestate.png" alt="–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"><span>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</span></button>
            <button class="tab" data-tab="exchange" onclick="switchTab('exchange')"><img src="/static/icons/exchange.png" alt="–û–±–º–µ–Ω"><span>–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</span></button>
            <button class="tab" data-tab="settings" onclick="switchTab('settings')"><img src="/static/icons/kids_new.png" alt="–î–ª—è –¥–µ—Ç–µ–π"><span>–î–ª—è –¥–µ—Ç–µ–π</span></button>
            <button class="tab" data-tab="marketplace" onclick="switchTab('marketplace')"><img src="/static/images/icons/marketplace.jpg" alt="–ë–∞—Ä–∞—Ö–æ–ª–∫–∞"><span>–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</span></button>
            <button class="tab" data-tab="visas" onclick="switchTab('visas')"><img src="/static/icons/visas.jpg" alt="–í–∏–∑–∞—Ä–∞–Ω"><span>–í–∏–∑–∞—Ä–∞–Ω</span></button>
            <button class="tab" data-tab="news" onclick="switchTab('news')"><img src="/static/icons/photoshoot.jpg" alt="–§–æ—Ç–æ—Å–µ—Å—Å–∏—è"><span>–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</span></button>
            <button class="tab" data-tab="medicine" onclick="switchTab('medicine')"><img src="/static/icons/medicine_new.png" alt="–ú–µ–¥–∏—Ü–∏–Ω–∞"><span>–ú–µ–¥–∏—Ü–∏–Ω–∞</span></button>
            <button class="tab" data-tab="chat" onclick="switchTab('chat')"><img src="/static/images/icons/chat.jpg" alt="–ß–∞—Ç"><span>–ß–∞—Ç</span></button>
            <button class="tab" data-tab="stats" onclick="switchTab('stats')"><img src="/static/icons/statistics.png" alt="–†–µ–∫–ª–∞–º–∞ –¢–ì"><span>–†–µ–∫–ª–∞–º–∞ –¢–ì</span></button>
            <button class="tab" data-tab="admin" onclick="switchTab('admin')" style="margin-left: auto;"><span>‚öôÔ∏è –ê–¥–º–∏–Ω</span></button>
        </div>

        <!-- –†–µ–∫–ª–∞–º–∞ –¢–ì -->
        <div id="stats" class="content">
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                <h2 style="margin: 0 0 10px 0;">üì¢ Telegram Ads - –†–µ–∫–ª–∞–º–∞ –≤ –∫–∞–Ω–∞–ª–∞—Ö</h2>
                <p style="margin: 0; opacity: 0.9;">–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ä–µ–∫–ª–∞–º—É –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö Telegram –≥—Ä—É–ø–ø–∞—Ö –ê–∑–∏–∏. –û—Ö–≤–∞—Ç —Ç—ã—Å—è—á —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!</p>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–ª—è —Ä–µ–∫–ª–∞–º—ã</h3>
                
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥–∞–º (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã) -->
                <div id="ads-city-filter" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px;">
                </div>
                
                <div style="overflow-x: auto;">
                    <table id="ads-table" style="width: 100%; border-collapse: collapse; font-size: 14px;">
                        <thead>
                            <tr style="background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%); color: white;">
                                <th style="padding: 12px; text-align: left; border-radius: 8px 0 0 0;">–ì—Ä—É–ø–ø–∞</th>
                                <th style="padding: 12px; text-align: center;">–û—Ö–≤–∞—Ç</th>
                                <th style="padding: 12px; text-align: center;">üí∞ –¶–µ–Ω–∞</th>
                                <th style="padding: 12px; text-align: center;">–ö–æ–Ω—Ç–∞–∫—Ç</th>
                                <th style="padding: 12px; text-align: center; border-radius: 0 8px 0 0;">–ó–∞–∫–∞–∑–∞—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody id="ads-tbody">
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –∫–∞–Ω–∞–ª</h3>
                <p style="color: #666; margin-bottom: 15px; font-size: 13px;">–£ –≤–∞—Å –µ—Å—Ç—å Telegram –∫–∞–Ω–∞–ª? –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –Ω–∞—à –∫–∞—Ç–∞–ª–æ–≥ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –∑–∞–∫–∞–∑—ã –Ω–∞ —Ä–µ–∫–ª–∞–º—É!</p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ *</label>
                        <input type="text" id="add-channel-name" placeholder="@your_channel" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="add-channel-category" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                            <option value="chat">üí¨ –ß–∞—Ç</option>
                            <option value="visas">üèñÔ∏è –í–∏–∑—ã</option>
                            <option value="realestate">üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                            <option value="transport">üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                            <option value="exchange">üí± –û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                            <option value="marketplace">üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                            <option value="restaurants">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                            <option value="tours">üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                            <option value="entertainment">üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                            <option value="medicine">üè• –ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                            <option value="news">üì∞ –ù–æ–≤–æ—Å—Ç–∏</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ì–æ—Ä–æ–¥ *</label>
                        <select id="add-channel-city" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                            <!-- –ì–æ—Ä–æ–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </select>
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ *</label>
                        <input type="number" id="add-channel-members" placeholder="1000" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–¶–µ–Ω–∞ –∑–∞ –ø–æ—Å—Ç ($) *</label>
                        <input type="number" id="add-channel-price" placeholder="30" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 12px; color: #666; margin-bottom: 5px;">–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏ *</label>
                        <input type="text" id="add-channel-contact" placeholder="@your_username" required style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                <p style="font-size: 11px; color: #999; margin-top: 10px;">* –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
                <button onclick="addChannelForAds()" style="margin-top: 15px; padding: 12px 30px; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª</button>
                <div id="add-channel-status" style="margin-top: 10px;"></div>
            </div>
        </div>

        <!-- –†–µ—Å—Ç–æ—Ä–∞–Ω—ã -->
        <div id="restaurants" class="content">
            <!-- –í—å–µ—Ç–Ω–∞–º - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="vietnam-restaurants-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn restaurant-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterRestaurantsByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/restaurants/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">106 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterRestaurantsByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">74 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterRestaurantsByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">95 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterRestaurantsByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterRestaurantsByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterRestaurantsByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterRestaurantsByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterRestaurantsByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn restaurant-city-btn" data-city="–•–æ–π–∞–Ω" onclick="filterRestaurantsByCity('–•–æ–π–∞–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/restaurants/hoian.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ–π–∞–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">3 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-restaurant'); loadRestaurantCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-restaurants-buttons" style="display: none; padding: 20px;">
                <div id="restaurants-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="filters" style="display: flex; gap: 10px; padding: 15px; flex-wrap: wrap;">
                <button onclick="searchNearby5km()" class="nearby-btn" style="padding: 10px 20px; background: #4285F4; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">üìç –ò—Å–∫–∞—Ç—å –≤ —Ä–∞–¥–∏—É—Å–µ 5 –∫–º</button>
                <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                <button onclick="filterRestaurantType('all')" class="rest-type-btn active" data-type="all" style="padding: 10px 20px; background: #d4af37; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">üçΩÔ∏è –í—Å–µ</button>
                <button onclick="filterRestaurantType('—Ä–µ—Å—Ç–æ—Ä–∞–Ω')" class="rest-type-btn" data-type="—Ä–µ—Å—Ç–æ—Ä–∞–Ω" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #FF5722; border-radius: 8px; cursor: pointer; font-weight: 600;">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</button>
                <button onclick="filterRestaurantType('–∫–∞—Ñ–µ')" class="rest-type-btn" data-type="–∫–∞—Ñ–µ" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #795548; border-radius: 8px; cursor: pointer; font-weight: 600;">‚òï –ö–∞—Ñ–µ</button>
                <button onclick="filterRestaurantType('–±–∞—Ä')" class="rest-type-btn" data-type="–±–∞—Ä" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #9C27B0; border-radius: 8px; cursor: pointer; font-weight: 600;">üç∏ –ë–∞—Ä—ã</button>
                <button onclick="filterRestaurantType('–Ω–æ—á–Ω–æ–π –∫–ª—É–±')" class="rest-type-btn" data-type="–Ω–æ—á–Ω–æ–π –∫–ª—É–±" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #E91E63; border-radius: 8px; cursor: pointer; font-weight: 600;">üéµ –ù–æ—á–Ω—ã–µ –∫–ª—É–±—ã</button>
                <button onclick="filterRestaurantType('—Ä—É—Å—Å–∫–∞—è –µ–¥–∞')" class="rest-type-btn" data-type="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #F44336; border-radius: 8px; cursor: pointer; font-weight: 600;">ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞</button>
                <button onclick="filterRestaurantType('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç')" class="rest-type-btn" data-type="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #00BCD4; border-radius: 8px; cursor: pointer; font-weight: 600;">ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã</button>
                <button onclick="filterRestaurantType('high_rating')" class="rest-type-btn" data-type="high_rating" style="padding: 10px 20px; background: #fff; color: #333; border: 2px solid #FFC107; border-radius: 8px; cursor: pointer; font-weight: 600;">‚≠ê –í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</button>
            </div>
            <div class="listing-grid" id="restaurants-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –≠–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="tours" class="content">
            <!-- –í—å–µ—Ç–Ω–∞–º - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="vietnam-tours-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn tours-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterToursByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/tours/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">58 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterToursByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">33 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterToursByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterToursByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">27 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterToursByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–ú—É–π–Ω–µ" onclick="filterToursByCity('–ú—É–π–Ω–µ')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/muine.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–π–Ω–µ</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">6 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterToursByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">16 —ç–∫—Å–∫—É—Ä—Å–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterToursByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">2 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn tours-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterToursByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/tours/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">2 —ç–∫—Å–∫—É—Ä—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-tour'); loadTourCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-tours-buttons" style="display: none; padding: 20px;">
                <div id="tours-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="tours-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏ -->
        <div id="submit-tour" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üß≥ –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é —ç–∫—Å–∫—É—Ä—Å–∏—é. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-tour-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="tour-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–∞–ª–∞—Ç –∑–∞ 2 –¥–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="tour-description" required rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏, –º–∞—Ä—à—Ä—É—Ç, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π</label>
                            <select id="tour-days" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="1">1 –¥–µ–Ω—å</option>
                                <option value="2">2 –¥–Ω—è</option>
                                <option value="3">3 –¥–Ω—è</option>
                                <option value="4">4 –¥–Ω—è</option>
                                <option value="5">5 –¥–Ω–µ–π</option>
                                <option value="7">7 –¥–Ω–µ–π</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ ($)</label>
                            <input type="number" id="tour-price" placeholder="55" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="tour-location" placeholder="–í—ã–µ–∑–¥ –∏–∑ –ù—è—á–∞–Ω–≥–∞" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="tour-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="tour-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="tour-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="tour-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë• –ì—Ä—É–ø–ø–∞ –º–∞–∫—Å–∏–º—É–º —á–µ–ª–æ–≤–µ–∫</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="5" checked> –¥–æ 5
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="10"> –¥–æ 10
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="20"> –¥–æ 20
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="tour-group-size" value="50"> –¥–æ 50
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="tour-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="tour-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="tour-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="tour-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="tour-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="tour-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="tour-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadTourCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="tour-captcha-answer">
                    </div>

                    <div id="tour-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #2196F3; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç -->
        <div id="transport" class="content">
            <div id="vietnam-transport-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn transport-type-btn" data-type="bikes" onclick="filterTransportByType('bikes')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/transport/bikes.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üèçÔ∏è –ë–∞–π–∫–∏</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="cars" onclick="filterTransportByType('cars')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/cars.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üöó –ê–≤—Ç–æ</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="yachts" onclick="filterTransportByType('yachts')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/yachts.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">‚õµ –Ø—Ö—Ç—ã</div>
                        </div>
                    </div>
                    <div class="tour-city-btn transport-type-btn" data-type="bicycles" onclick="filterTransportByType('bicycles')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/transport/bicycles.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥—ã</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-transport'); loadTransportCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</div>
                        </div>
                    </div>
                </div>
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ—Ä–æ–¥–∞–º -->
                <div style="margin-top: 10px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üèôÔ∏è –ì–æ—Ä–æ–¥:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button class="transport-city-btn" data-city="" onclick="filterTransportCity('')" style="padding: 8px 16px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>
                        <button class="transport-city-btn" data-city="Nha Trang" onclick="filterTransportCity('Nha Trang')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–ù—è—á–∞–Ω–≥</button>
                        <button class="transport-city-btn" data-city="Da Nang" onclick="filterTransportCity('Da Nang')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–î–∞–Ω–∞–Ω–≥</button>
                        <button class="transport-city-btn" data-city="Phu Quoc" onclick="filterTransportCity('Phu Quoc')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–§—É–∫—É–æ–∫</button>
                        <button class="transport-city-btn" data-city="Ho Chi Minh" onclick="filterTransportCity('Ho Chi Minh')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–•–æ—à–∏–º–∏–Ω</button>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-transport-buttons" style="display: none; padding: 20px;">
                <div id="transport-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="transport-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ -->
        <div id="submit-transport" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üèçÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –±–∞–π–∫, –∞–≤—Ç–æ –∏–ª–∏ —è—Ö—Ç—É. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-transport-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ/–ú–æ–¥–µ–ª—å *</label>
                        <input type="text" id="transport-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Honda Air Blade 125cc" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="transport-description" required rows="4" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ–±–µ–≥, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üîß –û–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è (—Å—Å)</label>
                            <input type="number" id="transport-engine" placeholder="125" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                            <input type="number" id="transport-year" placeholder="2022" min="1990" max="2026" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label id="transport-price-label" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                            <input type="number" id="transport-price" required placeholder="900000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø</label>
                            <select id="transport-type" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="bikes">üèçÔ∏è –ë–∞–π–∫</option>
                                <option value="cars">üöó –ê–≤—Ç–æ</option>
                                <option value="yachts">‚õµ –Ø—Ö—Ç–∞</option>
                                <option value="bicycles">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="transport-location" placeholder="–ù—è—á–∞–Ω–≥, —Ü–µ–Ω—Ç—Ä" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="transport-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="transport-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="transport-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="transport-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="transport-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="transport-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="transport-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="transport-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="transport-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="transport-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="transport-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadTransportCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="transport-captcha-answer">
                    </div>

                    <div id="transport-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å -->
        <div id="realestate" class="content">
            <div id="vietnam-realestate-buttons" style="padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; max-width: 1000px;">
                    <div class="tour-city-btn realestate-city-btn" data-city="nhatrang" onclick="filterRealEstateByCity('nhatrang')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/realestate_nhatrang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" id="realestate-nhatrang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="danang" onclick="filterRealEstateByCity('danang')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" id="realestate-danang-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="hochiminh" onclick="filterRealEstateByCity('hochiminh')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" id="realestate-hochiminh-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="hanoi" onclick="filterRealEstateByCity('hanoi')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" id="realestate-hanoi-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="phuquoc" onclick="filterRealEstateByCity('phuquoc')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" id="realestate-phuquoc-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn realestate-city-btn" data-city="dalat" onclick="filterRealEstateByCity('dalat')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/realestate_dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" id="realestate-dalat-count" style="font-size: 14px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-listing'); loadCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 14px; margin-top: 4px; color: #666;">–æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="vietnam-realestate-filters" class="filters" style="display: flex; gap: 10px; padding: 15px; flex-wrap: wrap;">
                <button onclick="filterRealEstateType('rent')" class="filter-type-btn" id="filter-rent" style="padding: 10px 20px; background: #fff; border: 2px solid #2196F3; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üîë –ê—Ä–µ–Ω–¥–∞</button>
                <button onclick="filterRealEstateType('sale')" class="filter-type-btn" id="filter-sale" style="padding: 10px 20px; background: #fff; border: 2px solid #4CAF50; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üè† –ü—Ä–æ–¥–∞–∂–∞</button>
                <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                <button onclick="sortRealEstate('price_desc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üí∞ –î–æ—Ä–æ–∂–µ</button>
                <button onclick="sortRealEstate('price_asc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üíµ –î–µ—à–µ–≤–ª–µ</button>
                <button onclick="filterRealEstatePrice(7000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 7 –º–ª–Ω</button>
                <button onclick="filterRealEstatePrice(15000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 15 –º–ª–Ω</button>
                <button onclick="resetRealEstateFilters()" class="reset-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #999; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">‚úï –°–±—Ä–æ—Å</button>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
            <div id="other-realestate-buttons" style="display: none; padding: 20px;">
                <div id="realestate-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
                <!-- –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω -->
                <div class="filters" style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                    <button onclick="filterRealEstateType('rent')" class="filter-type-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #2196F3; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üîë –ê—Ä–µ–Ω–¥–∞</button>
                    <button onclick="filterRealEstateType('sale')" class="filter-type-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #4CAF50; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üè† –ü—Ä–æ–¥–∞–∂–∞</button>
                    <span style="border-left: 2px solid #ddd; margin: 0 5px;"></span>
                    <button onclick="sortRealEstate('price_desc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üí∞ –î–æ—Ä–æ–∂–µ</button>
                    <button onclick="sortRealEstate('price_asc')" class="sort-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #d4af37; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">üíµ –î–µ—à–µ–≤–ª–µ</button>
                    <button onclick="filterRealEstatePrice(7000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 7 –º–ª–Ω</button>
                    <button onclick="filterRealEstatePrice(15000000)" class="filter-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #FF9800; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">–î–æ 15 –º–ª–Ω</button>
                    <button onclick="resetRealEstateFilters()" class="reset-btn" style="padding: 10px 20px; background: #fff; border: 2px solid #999; border-radius: 8px; cursor: pointer; font-weight: 600; color: #333;">‚úï –°–±—Ä–æ—Å</button>
                </div>
            </div>
            <div class="listing-grid" id="real_estate-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
        <div id="submit-realestate" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üè† –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-realestate-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="realestate-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ *</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #9C27B0; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="apartment" checked> üè¢ –ö–≤–∞—Ä—Ç–∏—Ä–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #E91E63; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="house"> üè† –î–æ–º
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #FF9800; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="villa"> üè° –í–∏–ª–ª–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #2196F3; border-radius: 8px; background: #fff;">
                                <input type="radio" name="realestate-type" value="land"> üå≥ –£—á–∞—Å—Ç–æ–∫
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="realestate-description" required rows="4" placeholder="–ü–ª–æ—â–∞–¥—å, —É–¥–æ–±—Å—Ç–≤–∞, —Ä–∞–π–æ–Ω, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üõèÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç</label>
                            <select id="realestate-rooms" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="studio">–°—Ç—É–¥–∏—è</option>
                                <option value="1">1 –∫–æ–º–Ω–∞—Ç–∞</option>
                                <option value="2">2 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="3">3 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="4+">4+ –∫–æ–º–Ω–∞—Ç</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìê –ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                            <input type="number" id="realestate-area" placeholder="50" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label id="realestate-price-label" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–∞ (VND) *</label>
                            <input type="number" id="realestate-price" required placeholder="5000000000" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="realestate-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="realestate-location" placeholder="–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="realestate-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="realestate-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="realestate-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="realestate-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="realestate-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="realestate-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="realestate-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="realestate-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="realestate-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="realestate-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadRealEstateCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="realestate-captcha-answer">
                    </div>

                    <div id="realestate-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #9C27B0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –û–±–º–µ–Ω –¥–µ–Ω–µ–≥ -->
        <div id="exchange" class="content">
            <div class="listing-grid" id="exchange-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
        <div id="entertainment" class="content">
            <div id="vietnam-entertainment-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ù—è—á–∞–Ω–≥" onclick="filterEntertainmentByCity('–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/entertainment/nyachang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">51 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–•–æ—à–∏–º–∏–Ω" onclick="filterEntertainmentByCity('–•–æ—à–∏–º–∏–Ω')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/hochiminh.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–æ—à–∏–º–∏–Ω</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">33 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–•–∞–Ω–æ–π" onclick="filterEntertainmentByCity('–•–∞–Ω–æ–π')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/hanoi.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–•–∞–Ω–æ–π</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–§—É–∫—É–æ–∫" onclick="filterEntertainmentByCity('–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/phuquoc.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">27 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–§–∞–Ω—Ç—å–µ—Ç" onclick="filterEntertainmentByCity('–§–∞–Ω—Ç—å–µ—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/phanthiet.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§–∞–Ω—Ç—å–µ—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">15 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ú—É–π–Ω–µ" onclick="filterEntertainmentByCity('–ú—É–π–Ω–µ')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/muine.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ú—É–π–Ω–µ</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">6 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–î–∞–Ω–∞–Ω–≥" onclick="filterEntertainmentByCity('–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/danang.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">16 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–ö–∞–º—Ä–∞–Ω—å" onclick="filterEntertainmentByCity('–ö–∞–º—Ä–∞–Ω—å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/kamran.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º—Ä–∞–Ω—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">8 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn entertainment-city-btn" data-city="–î–∞–ª–∞—Ç" onclick="filterEntertainmentByCity('–î–∞–ª–∞—Ç')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/entertainment/dalat.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–ª–∞—Ç</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">12 —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="switchTab('submit-entertainment'); loadEntertainmentCaptcha();" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ -->
            <div id="other-entertainment-buttons" style="display: none; padding: 20px;">
                <div id="entertainment-city-grid" class="tour-grid-container" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 25px;">
                </div>
            </div>
            <div class="listing-grid" id="entertainment-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
        <div id="submit-entertainment" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #9C27B0 0%, #673AB7 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üéÆ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –∏–ª–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-entertainment-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="entertainment-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–µ—á–µ—Ä–∏–Ω–∫–∞ –Ω–∞ —è—Ö—Ç–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="entertainment-description" required rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">‚≠ê –§–∏—à–∫–∞</label>
                            <input type="text" id="entertainment-feature" placeholder="–ñ–∏–≤–∞—è –º—É–∑—ã–∫–∞, DJ..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="entertainment-location" placeholder="–ü–ª—è–∂, –∫–ª—É–±, –æ—Ç–µ–ª—å..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="entertainment-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                            <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                            <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="entertainment-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="entertainment-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="entertainment-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë• –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="50" checked> –¥–æ 50
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="100"> –¥–æ 100
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="entertainment-capacity" value="300"> –¥–æ 300
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="entertainment-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="entertainment-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="entertainment-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="entertainment-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="entertainment-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="entertainment-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="entertainment-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadEntertainmentCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="entertainment-captcha-answer">
                    </div>

                    <div id="entertainment-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #9C27B0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ë–∞—Ä–∞—Ö–æ–ª–∫–∞ -->
        <div id="marketplace" class="content">
            <div class="filters">
                <input type="text" placeholder="–ß—Ç–æ –∏—â–µ—Ç–µ?" onchange="loadListings('marketplace')">
            </div>
            <div class="listing-grid" id="marketplace-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –í–∏–∑–∞—Ä–∞–Ω -->
        <div id="visas" class="content">
            <div id="vietnam-visas-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn visas-city-btn" data-city="–ö–∞–º–±–æ–¥–∂–∞" onclick="filterVisasByCity('–ö–∞–º–±–æ–¥–∂–∞')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/visas/cambodia.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ö–∞–º–±–æ–¥–∂–∞</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                    <div class="tour-city-btn visas-city-btn" data-city="–õ–∞–æ—Å" onclick="filterVisasByCity('–õ–∞–æ—Å')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/visas/laos.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–õ–∞–æ—Å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="visas-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –ù–æ–≤–æ—Å—Ç–∏ -->
        <div id="news" class="content">
            <div id="vietnam-news-buttons" style="display: none; padding: 20px;">
                <div class="tour-grid-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="tour-city-btn" onclick="loadListings('news', '–î–∞–Ω–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/icons/cities/danang_photo.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–î–∞–Ω–∞–Ω–≥</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="loadListings('news', '–ù—è—á–∞–Ω–≥')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/icons/cities/nhatrang_photo.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–ù—è—á–∞–Ω–≥</div>
                        </div>
                    </div>
                    <div class="tour-city-btn" onclick="loadListings('news', '–§—É–∫—É–æ–∫')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/icons/cities/phuquoc_photo.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 16px;">–§—É–∫—É–æ–∫</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="listing-grid" id="news-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –ú–µ–¥–∏—Ü–∏–Ω–∞ -->
        <div id="medicine" class="content">
            <div class="filters">
                <input type="text" placeholder="–ü–æ–∏—Å–∫..." onchange="loadListings('medicine')">
            </div>
            <div class="listing-grid" id="medicine-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <!-- –ß–∞—Ç -->
        <div id="chat" class="content">
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 20px; margin-bottom: 15px; color: white;">
                    <h3 style="margin: 0 0 8px 0; font-size: 20px;">üí¨ –ß–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ GoldAntelope</h3>
                    <p style="margin: 0; opacity: 0.9; font-size: 13px;">–û–±—â–∞–π—Ç–µ—Å—å —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º –ê–∑–∏–∏. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram.</p>
                </div>
                
                <!-- –û–∫–Ω–æ —á–∞—Ç–∞ (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–æ) -->
                <div style="background: white; border-radius: 12px; border: 1px solid #ddd; overflow: hidden;">
                    <div style="background: #f8f9fa; padding: 12px 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                        <div id="chat-user-info">
                            <span style="color: #999; font-size: 13px;">–ß–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram.</span>
                        </div>
                        <div id="chat-logout-btn" style="display: none;">
                            <span style="color: #333; font-weight: 600;">üë§ </span>
                            <span id="chat-username" style="color: #667eea; font-weight: 600;"></span>
                            <button onclick="logoutChat()" style="padding: 4px 10px; background: #dc3545; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer; margin-left: 10px;">–í—ã–π—Ç–∏</button>
                        </div>
                    </div>
                    <div id="chat-messages" style="height: 500px; overflow-y: auto; padding: 15px; background: #fafafa;">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö) -->
                    <div id="chat-auth-form" style="padding: 15px; border-top: 1px solid #eee; background: #f0f4ff;">
                        <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                            <input type="text" id="chat-telegram-id" placeholder="@–≤–∞—à_–Ω–∏–∫" style="flex: 1; min-width: 150px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px;">
                            <button onclick="requestChatCode()" style="padding: 10px 16px; background: #667eea; color: white; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer;">üì© –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</button>
                            <div id="chat-code-form" style="display: none; gap: 10px; align-items: center;">
                                <input type="text" id="chat-verify-code" placeholder="–ö–æ–¥" style="width: 100px; padding: 10px; border: 2px solid #667eea; border-radius: 8px; font-size: 14px; text-align: center;">
                                <button onclick="verifyChatCode()" style="padding: 10px 16px; background: #4CAF50; color: white; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer;">‚úÖ –í–æ–π—Ç–∏</button>
                            </div>
                        </div>
                        <div id="chat-auth-status" style="margin-top: 8px; font-size: 12px;"></div>
                        <div style="font-size: 11px; color: #888; margin-top: 5px;">–°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @goldantelope_bot –∫–æ–º–∞–Ω–¥—É /start</div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö) -->
                    <div id="chat-send-form" style="display: none; padding: 12px; border-top: 1px solid #eee; background: white;">
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="chat-message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex: 1; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px;" onkeypress="if(event.key==='Enter')sendChatMessage()">
                            <button onclick="sendChatMessage()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –î–ª—è –¥–µ—Ç–µ–π -->
        <div id="settings" class="content">
            <div style="max-width: 900px; margin: 0 auto; padding: 20px;">
                <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-radius: 12px; padding: 15px; margin-bottom: 20px; border: 1px solid #ffcc80;">
                    <h3 style="margin: 0 0 5px 0; color: #333; font-size: 16px;">üë∂ –î–ª—è –¥–µ—Ç–µ–π</h3>
                    <p style="margin: 0; color: #666; font-size: 12px;">–°–∞–¥–∏–∫–∏, —à–∫–æ–ª—ã, –Ω—è–Ω–∏, –∫—Ä—É–∂–∫–∏, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</p>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div class="kids-category-btn" data-type="events" onclick="filterKidsCategory('events')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #d4af37;">
                        <img src="/static/images/kids/events.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div style="font-weight: bold; font-size: 16px;">üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</div>
                            <div style="font-size: 13px; margin-top: 4px; color: #666;">–ü—Ä–∞–∑–¥–Ω–∏–∫–∏, –∏–≥—Ä—ã, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</div>
                        </div>
                    </div>
                    <div class="kids-category-btn" data-type="nannies" onclick="filterKidsCategory('nannies')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/nannies.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div style="font-weight: bold; font-size: 16px;">üë©‚Äçüëß –ù—è–Ω–∏ –∏ –∫—Ä—É–∂–∫–∏</div>
                            <div style="font-size: 13px; margin-top: 4px; color: #666;">–ù—è–Ω–∏, —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã, —Å–µ–∫—Ü–∏–∏</div>
                        </div>
                    </div>
                    <div class="kids-category-btn" data-type="schools" onclick="filterKidsCategory('schools')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid transparent;">
                        <img src="/static/images/kids/schools.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div style="font-weight: bold; font-size: 16px;">üè´ –°–∞–¥–∏–∫–∏ –∏ —à–∫–æ–ª—ã</div>
                            <div style="font-size: 13px; margin-top: 4px; color: #666;">–î–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã, —à–∫–æ–ª—ã, –ª–∏—Ü–µ–∏</div>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px;">
                    <div onclick="switchTab('submit-kids')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div style="font-weight: bold; font-size: 16px;">‚ûï –î–æ–±–∞–≤–∏—Ç—å</div>
                            <div style="font-size: 13px; margin-top: 4px; color: #666;">–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥—É -->
                <div style="margin-bottom: 15px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üèôÔ∏è –ì–æ—Ä–æ–¥:</div>
                    <div id="kids-city-filter" style="display: flex; gap: 8px; flex-wrap: wrap;">
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É -->
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; color: #333; margin-bottom: 8px; font-size: 14px;">üë∂ –í–æ–∑—Ä–∞—Å—Ç:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button class="kids-age-btn" data-age="" onclick="filterKidsAge('')" style="padding: 8px 16px; border: 2px solid #9C27B0; background: #9C27B0; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>
                        <button class="kids-age-btn" data-age="5" onclick="filterKidsAge('5')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 5 –ª–µ—Ç</button>
                        <button class="kids-age-btn" data-age="9" onclick="filterKidsAge('9')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 9 –ª–µ—Ç</button>
                        <button class="kids-age-btn" data-age="15" onclick="filterKidsAge('15')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">–¥–æ 15 –ª–µ—Ç</button>
                    </div>
                </div>

                <div id="kids-feed" style="max-height: 600px; overflow-y: auto;">
                    <div class="loading"><div class="spinner"></div></div>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –¥–ª—è –¥–µ—Ç–µ–π -->
        <div id="submit-kids" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üë∂ –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π</h2>
                    <p style="margin: 0; opacity: 0.9;">–°–∞–¥–∏–∫–∏, —à–∫–æ–ª—ã, –Ω—è–Ω–∏, –∫—Ä—É–∂–∫–∏, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-kids-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø *</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #4CAF50; border-radius: 8px; background: #fff;">
                                <input type="radio" name="kids-type" value="schools" checked> üè´ –°–∞–¥–∏–∫–∏ –∏ —à–∫–æ–ª—ã
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #FF9800; border-radius: 8px; background: #fff;">
                                <input type="radio" name="kids-type" value="events"> üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #9C27B0; border-radius: 8px; background: #fff;">
                                <input type="radio" name="kids-type" value="nannies"> üë©‚Äçüëß –ù—è–Ω–∏ –∏ –∫—Ä—É–∂–∫–∏
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="kids-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–µ—Ç—Å–∫–∏–π —Å–∞–¥ '–°–æ–ª–Ω—ã—à–∫–æ'" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="kids-description" required rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥ *</label>
                            <select id="kids-city" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                                <option value="Hoi An">–•–æ–π–∞–Ω</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë∂ –í–æ–∑—Ä–∞—Å—Ç *</label>
                            <input type="text" id="kids-age" required placeholder="0-3, 3-6, 7-12..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                        <input type="text" id="kids-location" placeholder="–†–∞–π–æ–Ω, —É–ª–∏—Ü–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="kids-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">–û—Ç–∫—Ä–æ–π—Ç–µ –º–µ—Å—Ç–æ –≤ Google Maps ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</p>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="kids-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="kids-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="kids-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="kids-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="kids-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="kids-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="kids-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="kids-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="kids-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadKidsCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="kids-captcha-answer">
                    </div>

                    <div id="kids-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è -->
        <div id="move-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 400px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #333;">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
                <p style="margin: 0 0 10px 0; color: #666; font-size: 13px;" id="move-modal-id"></p>
                <label style="font-size: 12px; color: #666; font-weight: 600; display: block; margin-bottom: 5px;">–í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</label>
                <select id="move-modal-category" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; margin-bottom: 15px;">
                    <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                    <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                    <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                    <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                    <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                    <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                    <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                    <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                    <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                    <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                    <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                    <option value="chat">–ß–∞—Ç</option>
                </select>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmMoveFromCard()" style="flex: 1; padding: 10px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å</button>
                    <button onclick="document.getElementById('move-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è -->
        <div id="delete-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 400px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #ff6b6b;">‚ö†Ô∏è –£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ?</h3>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="delete-modal-id"></p>
                <p style="margin: 0 0 15px 0; color: #999; font-size: 12px;">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!</p>
                <div style="display: flex; gap: 10px;">
                    <button onclick="confirmDeleteFromCard()" style="flex: 1; padding: 10px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–£–¥–∞–ª–∏—Ç—å</button>
                    <button onclick="document.getElementById('delete-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞ -->
        <div id="city-edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 450px; width: 90%;">
                <h3 style="margin: 0 0 15px 0; color: #1565c0;">üèôÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–æ–¥</h3>
                <input type="hidden" id="city-edit-section">
                <input type="hidden" id="city-edit-index">
                <input type="hidden" id="city-edit-old-name">
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:</label>
                    <input type="text" id="city-edit-name" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–§–æ—Ç–æ –≥–æ—Ä–æ–¥–∞:</label>
                    <img id="city-edit-preview" src="" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; display: none;">
                    <input type="file" id="city-edit-photo" accept="image/*" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600; font-size: 13px; color: #333;">–ü–æ–∑–∏—Ü–∏—è:</label>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="moveCityPosition(-1)" style="flex: 1; padding: 10px; background: #e3f2fd; color: #1565c0; border: 1px solid #90caf9; border-radius: 6px; cursor: pointer; font-weight: 600;">‚¨ÜÔ∏è –í—ã—à–µ</button>
                        <button onclick="moveCityPosition(1)" style="flex: 1; padding: 10px; background: #e3f2fd; color: #1565c0; border: 1px solid #90caf9; border-radius: 6px; cursor: pointer; font-weight: 600;">‚¨áÔ∏è –ù–∏–∂–µ</button>
                    </div>
                </div>
                
                <div id="city-edit-status" style="font-size: 13px; margin-bottom: 15px;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveCityChanges()" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="deleteCityFromModal()" style="padding: 12px 20px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üóëÔ∏è</button>
                    <button onclick="closeCityEditModal()" style="padding: 12px 20px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="edit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; overflow-y: auto;">
            <div style="background: white; border-radius: 12px; padding: 20px; max-width: 500px; width: 90%; margin: 20px auto;">
                <h3 style="margin: 0 0 15px 0; color: #4CAF50;">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h3>
                <p style="margin: 0 0 15px 0; color: #666; font-size: 13px;" id="edit-modal-id"></p>
                
                <div style="margin-bottom: 12px;">
                    <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="edit-title" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                </div>
                
                <div style="margin-bottom: 12px;">
                    <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="edit-description" rows="5" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                </div>
                
                <div id="edit-realestate-fields">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–¶–µ–Ω–∞:</label>
                            <input type="number" id="edit-price" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ö–æ–º–Ω–∞—Ç:</label>
                            <input type="text" id="edit-rooms" placeholder="1, 2, Studio" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">–ü–ª–æ—â–∞–¥—å (–º¬≤):</label>
                            <input type="number" id="edit-area" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üè∑Ô∏è –¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è:</label>
                        <div style="display: flex; gap: 15px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="edit-type-sale" value="sale"> –ü—Ä–æ–¥–∞–∂–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="edit-type-rent" value="rent"> –ê—Ä–µ–Ω–¥–∞
                            </label>
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üìÖ –î–∞—Ç–∞:</label>
                        <input type="date" id="edit-date" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:</label>
                        <input type="text" id="edit-contact-name" placeholder="–ò–º—è" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #25D366;">üí¨ WhatsApp:</label>
                        <input type="text" id="edit-whatsapp" placeholder="8499999999" style="width: 100%; padding: 10px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #0088cc;">‚úàÔ∏è Telegram:</label>
                        <input type="text" id="edit-telegram" placeholder="@username" style="width: 100%; padding: 10px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-restaurant-fields" style="display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥:</label>
                            <select id="edit-city" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                                <option value="Hoi An">–•–æ–π–∞–Ω</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üç≥ –ö—É—Ö–Ω—è:</label>
                            <input type="text" id="edit-kitchen" placeholder="–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è, –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üè∑Ô∏è –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è:</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #FF5722; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="—Ä–µ—Å—Ç–æ—Ä–∞–Ω"> üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #795548; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–∫–∞—Ñ–µ"> ‚òï –ö–∞—Ñ–µ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #9C27B0; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–±–∞—Ä"> üç∏ –ë–∞—Ä
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #E91E63; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–Ω–æ—á–Ω–æ–π –∫–ª—É–±"> üéµ –ù–æ—á–Ω–æ–π –∫–ª—É–±
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #F44336; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞"> ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 8px 12px; border: 2px solid #00BCD4; border-radius: 6px;">
                                <input type="radio" name="edit-restaurant-type" value="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã"> ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
                            </label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #333;">üí∞ –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <div style="display: flex; gap: 15px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="cheap"> üíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="normal"> üíµüíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="edit-price-category" value="expensive"> üíµüíµüíµ
                            </label>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #4285F4;">üó∫Ô∏è Google Maps:</label>
                        <input type="url" id="edit-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 10px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="display: block; margin-bottom: 4px; font-weight: 600; font-size: 13px; color: #FFC107;">‚≠ê –†–µ–π—Ç–∏–Ω–≥ Google:</label>
                        <input type="text" id="edit-google-rating" placeholder="4.5" style="width: 100%; padding: 10px; border: 1px solid #FFC107; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                </div>
                
                <div id="edit-status" style="margin-bottom: 12px; font-size: 13px; display: none;"></div>
                
                <div style="display: flex; gap: 10px;">
                    <button onclick="saveEditFromCard()" style="flex: 1; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button onclick="document.getElementById('edit-modal').style.display = 'none';" style="flex: 1; padding: 10px; background: #eee; color: #333; border: none; border-radius: 6px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
        <div id="submit-listing" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üìù –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="submit-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–≤–∞—Ä—Ç–∏—Ä–∞ 2 –∫–æ–º–Ω–∞—Ç—ã –≤ —Ü–µ–Ω—Ç—Ä–µ" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="submit-description" required rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–¶–µ–Ω–∞</label>
                            <input type="number" id="submit-price" placeholder="0" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ö–æ–º–Ω–∞—Ç</label>
                            <input type="text" id="submit-rooms" placeholder="1, 2, Studio" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ü–ª–æ—â–∞–¥—å –º¬≤</label>
                            <input type="number" id="submit-area" placeholder="50" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="submit-location" placeholder="–¶–µ–Ω—Ç—Ä, —É –º–æ—Ä—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                            <select id="submit-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                                <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                                <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                                <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                                <option value="Hanoi">–•–∞–Ω–æ–π</option>
                                <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                                <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                                <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                                <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="submit-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="submit-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="submit-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–¢–∏–ø –æ–±—ä—è–≤–ª–µ–Ω–∏—è</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="submit-type-sale" value="sale"> –ü—Ä–æ–¥–∞–∂–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="submit-type-rent" value="rent"> –ê—Ä–µ–Ω–¥–∞
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è Google Maps</label>
                        <input type="text" id="submit-geolocation" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <small style="color: #888; font-size: 11px;">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ Google Maps</small>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="submit-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="submit-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="submit-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="submit-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="submit-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="captcha-answer">
                    </div>

                    <div id="submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ -->
        <div id="submit-restaurant" class="content">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">üçΩÔ∏è –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</h2>
                    <p style="margin: 0; opacity: 0.9;">–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—ë –∑–∞–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª –†–µ—Å—Ç–æ—Ä–∞–Ω—ã. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ.</p>
                </div>

                <form id="submit-restaurant-form" style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                        <input type="text" id="restaurant-title" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–∞—Ñ–µ –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è –∫—É—Ö–Ω—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üè∑Ô∏è –¢–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è *</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #FF5722; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="—Ä–µ—Å—Ç–æ—Ä–∞–Ω" checked> üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #795548; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–∫–∞—Ñ–µ"> ‚òï –ö–∞—Ñ–µ
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #9C27B0; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–±–∞—Ä"> üç∏ –ë–∞—Ä
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #E91E63; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–Ω–æ—á–Ω–æ–π –∫–ª—É–±"> üéµ –ù–æ—á–Ω–æ–π –∫–ª—É–±
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #F44336; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="—Ä—É—Å—Å–∫–∞—è –µ–¥–∞"> ü•ü –†—É—Å—Å–∫–∞—è –µ–¥–∞
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px 15px; border: 2px solid #00BCD4; border-radius: 8px; background: #fff;">
                                <input type="radio" name="restaurant-type" value="–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã"> ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                        <textarea id="restaurant-description" required rows="4" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –º–µ–Ω—é, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box; resize: vertical;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üç≥ –ö—É—Ö–Ω—è</label>
                            <input type="text" id="restaurant-kitchen" placeholder="–í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è, –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <input type="text" id="restaurant-location" placeholder="–¶–µ–Ω—Ç—Ä, –ø–ª—è–∂, —Ä–∞–π–æ–Ω..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üèôÔ∏è –ì–æ—Ä–æ–¥</label>
                        <select id="restaurant-city" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                            <option value="Nha Trang">–ù—è—á–∞–Ω–≥</option>
                            <option value="Ho Chi Minh">–•–æ—à–∏–º–∏–Ω</option>
                            <option value="Da Nang">–î–∞–Ω–∞–Ω–≥</option>
                            <option value="Hanoi">–•–∞–Ω–æ–π</option>
                            <option value="Phu Quoc">–§—É–∫—É–æ–∫</option>
                            <option value="Phan Thiet">–§–∞–Ω—Ç—å–µ—Ç</option>
                            <option value="Cam Ranh">–ö–∞–º—Ä–∞–Ω—å</option>
                            <option value="Da Lat">–î–∞–ª–∞—Ç</option>
                            <option value="Hoi An">–•–æ–π–∞–Ω</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #4285F4;">üó∫Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ Google Maps</label>
                        <input type="url" id="restaurant-google-maps" placeholder="https://maps.google.com/..." style="width: 100%; padding: 12px; border: 1px solid #4285F4; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">–û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –≤ Google Maps ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</p>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ *</label>
                        <input type="text" id="restaurant-contact-name" required placeholder="–í–∞—à–µ –∏–º—è" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #25D366;">üí¨ WhatsApp</label>
                            <input type="text" id="restaurant-whatsapp" placeholder="8499999999" style="width: 100%; padding: 12px; border: 1px solid #25D366; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #0088cc;">‚úàÔ∏è Telegram *</label>
                            <input type="text" id="restaurant-telegram" required placeholder="@username" style="width: 100%; padding: 12px; border: 1px solid #0088cc; border-radius: 6px; font-size: 14px; box-sizing: border-box;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üí∞ –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="cheap"> üíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="normal" checked> üíµüíµ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="restaurant-price-category" value="expensive"> üíµüíµüíµ
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">üì∑ –§–æ—Ç–æ (–¥–æ 4 —à—Ç, –º–∞–∫—Å 1 –ú–ë –∫–∞–∂–¥–æ–µ)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="file" id="restaurant-photo-0" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="restaurant-photo-1" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="restaurant-photo-2" accept="image/*" style="font-size: 12px;">
                            <input type="file" id="restaurant-photo-3" accept="image/*" style="font-size: 12px;">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px; padding: 15px; background: #f5f5f5; border-radius: 6px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">ü§ñ –ö–∞–ø—á–∞ *</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span id="restaurant-captcha-question" style="font-size: 18px; font-weight: bold; color: #333;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <input type="text" id="restaurant-captcha" required placeholder="–û—Ç–≤–µ—Ç" style="width: 100px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; text-align: center;">
                            <button type="button" onclick="loadRestaurantCaptcha()" style="padding: 10px; background: #eee; border: none; border-radius: 6px; cursor: pointer;">üîÑ</button>
                        </div>
                        <input type="hidden" id="restaurant-captcha-answer">
                    </div>

                    <div id="restaurant-submit-status" style="margin-bottom: 15px; font-size: 14px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 15px; background: #FF6B35; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</button>
                </form>
            </div>
        </div>

        <!-- –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å -->
        <div id="admin" class="content">
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%); color: white; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h2 style="margin: 0 0 10px 0; font-size: 22px;">‚öôÔ∏è –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h2>
                    <p style="margin: 0; opacity: 0.9;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏: —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è</p>
                </div>

                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #ddd;">
                    <h3 style="margin: 0 0 15px 0; color: #333;">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <input type="password" id="admin-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                        <button onclick="adminAuth()" style="padding: 10px 20px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–í–æ–π—Ç–∏</button>
                    </div>
                    <div id="admin-status" style="font-size: 13px; color: #666;"></div>
                </div>

                <div id="admin-tools" style="display: none;">
                    <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üìã –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h3>
                        <button onclick="loadPendingListings()" style="padding: 10px 20px; background: #0088cc; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-bottom: 15px;">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ</button>
                        <div id="pending-count" style="font-size: 14px; color: #666; margin-bottom: 10px;"></div>
                        <div id="pending-list" style="display: grid; gap: 15px;"></div>
                    </div>
                    
                    <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üì¢ –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤</h3>
                        <button onclick="loadPendingAdsChannels()" style="padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-bottom: 15px;">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ</button>
                        <div id="pending-ads-count" style="font-size: 14px; color: #666; margin-bottom: 10px;"></div>
                        <div id="pending-ads-list" style="display: grid; gap: 10px;"></div>
                    </div>

                    <div style="background: #fafafa; padding: 20px; border-radius: 8px; border: 1px solid #eee; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #333;">üñºÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞–º–∏ (${currentCountry})</h4>
                        <div id="admin-banners-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-bottom: 15px;">
                            <!-- –ë–∞–Ω–Ω–µ—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                        </div>
                        <div style="display: flex; gap: 10px; align-items: flex-end;">
                            <div style="flex: 1;">
                                <label style="font-size: 12px; color: #666; font-weight: 600;">–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä</label>
                                <input type="file" id="banner-upload-input" accept="image/*" style="width: 100%; padding: 8px; background: white; border: 1px solid #ddd; border-radius: 6px; margin-top: 5px;">
                            </div>
                            <button onclick="uploadBannerAdmin()" style="padding: 10px 20px; background: #31a24c; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; height: 40px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                        </div>
                        <div id="banner-upload-status" style="font-size: 12px; margin-top: 8px;"></div>
                    </div>

                    <div style="background: #ffebee; padding: 20px; border-radius: 8px; border: 1px solid #ef9a9a; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #c62828;">üö´ –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —á–∞—Ç–∞</h4>
                        <p style="font-size: 12px; color: #666; margin: 0 0 15px 0;">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</p>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                            <input type="text" id="blacklist-username" placeholder="@–Ω–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px;">
                            <button onclick="addToBlacklist()" style="padding: 10px 20px; background: #c62828; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <div id="blacklist-list" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span style="color: #999; font-size: 12px;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border: 1px solid #90caf9; margin-top: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #1565c0;">üì° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram –∫–∞–Ω–∞–ª–∞–º–∏</h4>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                            <select id="channel-category" style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; min-width: 150px;">
                                <option value="chat">–ß–∞—Ç</option>
                                <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                                <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                                <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                                <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                                <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                                <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                                <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                                <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                                <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                                <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                            </select>
                            <input type="text" id="new-channel-name" placeholder="@channel_name" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; min-width: 200px;">
                            <button onclick="addChannelAdmin()" style="padding: 10px 20px; background: #1565c0; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        <div id="channel-result" style="font-size: 12px; margin-bottom: 10px;"></div>
                        <div id="channels-list" style="max-height: 400px; overflow-y: auto; background: white; border-radius: 6px; border: 1px solid #ddd;">
                            <!-- –ö–∞–Ω–∞–ª—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <!-- –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä -->
                    <div style="background: white; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-top: 20px;">
                        <h3 style="margin: 0 0 15px 0; color: #333;">üîç –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä Telegram</h3>
                        <p style="font-size: 13px; color: #666; margin-bottom: 15px;">–í–≤–µ–¥–∏—Ç–µ @username –∫–∞–Ω–∞–ª–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é. –ë—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞.</p>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px;">
                            <input type="text" id="parser-channel" placeholder="@channel_name" style="flex: 1; min-width: 200px; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                            <select id="parser-category" style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px;">
                                <option value="restaurants">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                                <option value="tours">–≠–∫—Å–∫—É—Ä—Å–∏–∏</option>
                                <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                                <option value="real_estate">–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                                <option value="money_exchange">–û–±–º–µ–Ω –¥–µ–Ω–µ–≥</option>
                                <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                                <option value="marketplace">–ë–∞—Ä–∞—Ö–æ–ª–∫–∞</option>
                                <option value="visas">–í–∏–∑–∞—Ä–∞–Ω</option>
                                <option value="news">–§–æ—Ç–æ—Å–µ—Å—Å–∏—è</option>
                                <option value="medicine">–ú–µ–¥–∏—Ü–∏–Ω–∞</option>
                                <option value="kids">–î–ª—è –¥–µ—Ç–µ–π</option>
                                <option value="chat">–ß–∞—Ç</option>
                            </select>
                            <input type="number" id="parser-limit" placeholder="–õ–∏–º–∏—Ç (100)" value="100" min="1" max="1000" style="width: 100px; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                            <button onclick="startManualParser()" id="parser-btn" style="padding: 10px 20px; background: #FF9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥</button>
                        </div>
                        <div id="parser-status" style="font-size: 13px; color: #666;"></div>
                        <div id="parser-log" style="max-height: 300px; overflow-y: auto; background: #f5f5f5; border-radius: 6px; padding: 10px; font-family: monospace; font-size: 12px; margin-top: 10px; display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentCountry = 'vietnam';
        
        const countryConfig = {
            'vietnam': { pair: 'USDT/VND', rubPair: 'VND/RUB', currency: 'VND' },
            'thailand': { pair: 'USDT/THB', rubPair: 'THB/RUB', currency: 'THB' },
            'india': { pair: 'USDT/INR', rubPair: 'INR/RUB', currency: 'INR' },
            'indonesia': { pair: 'USDT/IDR', rubPair: 'IDR/RUB', currency: 'IDR' }
        };

        let bannerConfig = {};

        async function loadCityCounts(category, btnClass) {
            try {
                const r = await fetch(`/api/city-counts/${category}?country=${currentCountry}`);
                const counts = await r.json();
                document.querySelectorAll(btnClass).forEach(btn => {
                    const city = btn.dataset.city;
                    if (city && counts[city] !== undefined) {
                        const countEl = btn.querySelector('.tour-count');
                        if (countEl) {
                            const num = counts[city];
                            let word = '–æ–±—ä—è–≤–ª–µ–Ω–∏–π';
                            if (num % 10 === 1 && num % 100 !== 11) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏–µ';
                            else if ([2,3,4].includes(num % 10) && ![12,13,14].includes(num % 100)) word = '–æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                            countEl.textContent = `${num} ${word}`;
                        }
                    }
                });
            } catch(e) { console.error('Error loading city counts:', e); }
        }
        
        function updateAllCityCounts() {
            if (currentCountry === 'vietnam') {
                loadCityCounts('entertainment', '.entertainment-city-btn');
                loadCityCounts('restaurants', '.restaurant-city-btn');
                loadCityCounts('tours', '.tour-city-btn:not(.entertainment-city-btn):not(.kids-category-btn)');
            }
        }
        
        async function loadBanners() {
            try {
                console.log('Loading banners...');
                const r = await fetch('/api/banners');
                bannerConfig = await r.json();
                console.log('Banner config loaded:', bannerConfig);
                
                // Preload all banners to ensure they are in cache
                for (const country in bannerConfig) {
                    if (bannerConfig[country]) {
                        bannerConfig[country].forEach(src => {
                            const img = new Image();
                            img.src = src;
                        });
                    }
                }
                
                updateBanner();
                if (adminAuthenticated) renderAdminBanners();
            } catch (e) {
                console.error('Error loading banners:', e);
            }
        }

        function updateBanner() {
            const banners = bannerConfig[currentCountry] || [];
            const banner = document.getElementById('banner');
            if (!banner) {
                console.error('Banner element not found');
                return;
            }
            
            const navs = banner.querySelectorAll('.banner-nav');
            
            if (banners.length > 0) {
                if (countryConfig[currentCountry].currentBanner === undefined) countryConfig[currentCountry].currentBanner = 0;
                let currentIdx = countryConfig[currentCountry].currentBanner;
                
                if (currentIdx >= banners.length) {
                    currentIdx = 0;
                    countryConfig[currentCountry].currentBanner = 0;
                }

                navs.forEach(nav => nav.style.display = banners.length > 1 ? 'flex' : 'none');

                const imgUrl = banners[currentIdx];
                console.log('Applying banner:', imgUrl);
                
                // Simply set background image
                banner.style.backgroundImage = `url('${imgUrl}')`;
                banner.style.display = 'block';
                
                banner.onclick = (e) => {
                    if (!e.target.classList.contains('banner-nav')) {
                        changeBanner(1);
                    }
                };
            } else {
                banner.style.display = 'none';
            }
        }

        function changeBanner(direction) {
            const banners = bannerConfig[currentCountry] || [];
            if (banners.length <= 1) return;
            
            let currentIdx = countryConfig[currentCountry].currentBanner || 0;
            currentIdx = (currentIdx + direction + banners.length) % banners.length;
            countryConfig[currentCountry].currentBanner = currentIdx;
            updateBanner();
        }

        setInterval(() => {
            const banners = bannerConfig[currentCountry] || [];
            if (banners.length > 1) {
                const currentIdx = countryConfig[currentCountry].currentBanner || 0;
                const nextIdx = (currentIdx + 1) % banners.length;
                countryConfig[currentCountry].currentBanner = nextIdx;
                updateBanner();
            }
        }, 10000);

        function switchCountry(country) {
            // –ï—Å–ª–∏ –∞–¥–º–∏–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –æ–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–µ–π —Å—Ç—Ä–∞–Ω–æ–π (–∫—Ä–æ–º–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞)
            if (adminAuthenticated && adminCountry && adminCountry !== 'all' && country !== adminCountry) {
                const countryNames = {
                    'vietnam': 'üáªüá≥ –í—å–µ—Ç–Ω–∞–º',
                    'thailand': 'üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥',
                    'india': 'üáÆüá≥ –ò–Ω–¥–∏—è',
                    'indonesia': 'üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è'
                };
                alert('–í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∞–¥–º–∏–Ω ' + countryNames[adminCountry] + '. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–æ–π –≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å –¥—Ä—É–≥–∏–º –ø–∞—Ä–æ–ª–µ–º.');
                return;
            }
            
            currentCountry = country;
            document.querySelectorAll('.country-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('onclick').includes(country));
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –í—å–µ—Ç–Ω–∞–º–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            const isVietnam = (country === 'vietnam');
            if (document.getElementById('vietnam-entertainment-buttons'))
                document.getElementById('vietnam-entertainment-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-realestate-buttons'))
                document.getElementById('vietnam-realestate-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-tours-buttons'))
                document.getElementById('vietnam-tours-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-transport-buttons'))
                document.getElementById('vietnam-transport-buttons').style.display = isVietnam ? 'block' : 'none';
            if (document.getElementById('vietnam-restaurants-buttons'))
                document.getElementById('vietnam-restaurants-buttons').style.display = isVietnam ? 'block' : 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            if (document.getElementById('other-restaurants-buttons'))
                document.getElementById('other-restaurants-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-tours-buttons'))
                document.getElementById('other-tours-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-entertainment-buttons'))
                document.getElementById('other-entertainment-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-transport-buttons'))
                document.getElementById('other-transport-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('other-realestate-buttons'))
                document.getElementById('other-realestate-buttons').style.display = isVietnam ? 'none' : 'block';
            if (document.getElementById('vietnam-realestate-filters'))
                document.getElementById('vietnam-realestate-filters').style.display = isVietnam ? 'flex' : 'none';
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≥–æ—Ä–æ–¥–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω
            if (!isVietnam) {
                renderDynamicCityButtons();
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è –¥–µ—Ç–µ–π
            renderKidsCityFilter();
            updateKidsCitySelect();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∞–ª—é—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ö
            updateFormCurrency();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–æ—Ä–æ–¥–∞ –≤ —Ñ–æ—Ä–º–∞—Ö –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
            updateFormCities();

            if (countryConfig[country] && countryConfig[country].pair) {
                document.getElementById('local-pair').textContent = countryConfig[country].pair;
                document.getElementById('rub-pair').textContent = countryConfig[country].rubPair;
            }
            
            if (!countryConfig[country].currentBanner) countryConfig[country].currentBanner = 0;
            updateBanner();
            if (adminAuthenticated) renderAdminBanners();
            
            updateRates();
            loadStats();
            updateAllCityCounts();
            if (document.getElementById('chat').classList.contains('active')) loadChatFeed();
            loadListings('restaurants');
        }
        
        function updateRates() {
            // BTC/USD from CoinGecko
            fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd')
                .then(r => r.json())
                .then(data => {
                    const btcRate = data.bitcoin?.usd;
                    if (btcRate) {
                        document.getElementById('btc-rate').textContent = '$' + btcRate.toLocaleString('en-US', { maximumFractionDigits: 0 });
                    }
                })
                .catch(err => console.log('BTC rate error:', err));
            
            // Local currency rate (mock data for demo)
            const localRates = {
                'vietnam': '24,500',
                'thailand': '33.5',
                'india': '83.2',
                'indonesia': '15,500'
            };
            document.getElementById('local-rate').textContent = localRates[currentCountry];
            
            // RUB rates (1 RUB = X local currency)
            const rubRates = {
                'vietnam': '245',
                'thailand': '0.34',
                'india': '0.84',
                'indonesia': '155'
            };
            document.getElementById('rub-rate').textContent = rubRates[currentCountry];
        }

        function switchTab(tabName) {
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            
            let contentEl = document.getElementById(tabName);
            if (contentEl) contentEl.classList.add('active');
            
            let tabBtn = document.querySelector(`[data-tab="${tabName}"]`);
            if (tabBtn) tabBtn.classList.add('active');
            
            if (tabName === 'stats') {
                loadStats();
            } else if (tabName === 'chat') {
                loadChatFeed();
            } else if (tabName === 'settings') {
                loadKidsFeed();
            } else if (tabName === 'submit-kids') {
                loadKidsCaptcha();
            } else if (tabName === 'realestate') {
                loadRealEstateCounts();
                loadListings('real_estate');
            } else {
                let category = tabName === 'realestate' ? 'real_estate' : tabName;
                console.log('Loading category:', category);
                loadListings(category);
            }
        }
        
        let chatToken = localStorage.getItem('chat_token');
        let chatUsername = localStorage.getItem('chat_username');
        
        function loadChatFeed() {
            loadChatMessages();
            updateChatUI();
            
            if (!window.chatRefreshInterval) {
                window.chatRefreshInterval = setInterval(() => {
                    if (document.getElementById('chat').classList.contains('active')) {
                        loadChatMessages();
                    }
                }, 5000);
            }
        }
        
        function updateChatUI() {
            const authForm = document.getElementById('chat-auth-form');
            const sendForm = document.getElementById('chat-send-form');
            const userInfo = document.getElementById('chat-user-info');
            const logoutBtn = document.getElementById('chat-logout-btn');
            const usernameSpan = document.getElementById('chat-username');
            
            if (chatToken && chatUsername) {
                if (authForm) authForm.style.display = 'none';
                if (sendForm) sendForm.style.display = 'block';
                if (userInfo) userInfo.style.display = 'none';
                if (logoutBtn) logoutBtn.style.display = 'block';
                if (usernameSpan) usernameSpan.textContent = '@' + chatUsername;
            } else {
                if (authForm) authForm.style.display = 'block';
                if (sendForm) sendForm.style.display = 'none';
                if (userInfo) userInfo.style.display = 'block';
                if (logoutBtn) logoutBtn.style.display = 'none';
            }
        }
        
        async function requestChatCode() {
            const telegramId = document.getElementById('chat-telegram-id').value.trim();
            const status = document.getElementById('chat-auth-status');
            if (!telegramId) {
                status.innerHTML = '<span style="color: #dc3545;">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Telegram ID</span>';
                return;
            }
            status.innerHTML = '<span style="color: #667eea;">–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥...</span>';
            try {
                const r = await fetch('/api/chat/request-code', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({telegram_id: telegramId})
                });
                const data = await r.json();
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram</span>';
                    document.getElementById('chat-code-form').style.display = 'flex';
                } else {
                    status.innerHTML = `<span style="color: #dc3545;">${data.error}</span>`;
                }
            } catch(e) {
                status.innerHTML = '<span style="color: #dc3545;">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        async function verifyChatCode() {
            const telegramId = document.getElementById('chat-telegram-id').value.trim();
            const code = document.getElementById('chat-verify-code').value.trim();
            const status = document.getElementById('chat-auth-status');
            if (!code) {
                status.innerHTML = '<span style="color: #dc3545;">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥</span>';
                return;
            }
            try {
                const r = await fetch('/api/chat/verify-code', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({telegram_id: telegramId, code: code})
                });
                const data = await r.json();
                if (data.success) {
                    chatToken = data.token;
                    chatUsername = data.username;
                    localStorage.setItem('chat_token', chatToken);
                    localStorage.setItem('chat_username', chatUsername);
                    loadChatFeed();
                } else {
                    status.innerHTML = `<span style="color: #dc3545;">${data.error}</span>`;
                }
            } catch(e) {
                status.innerHTML = '<span style="color: #dc3545;">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        function logoutChat() {
            chatToken = null;
            chatUsername = null;
            localStorage.removeItem('chat_token');
            localStorage.removeItem('chat_username');
            document.getElementById('chat-code-form').style.display = 'none';
            document.getElementById('chat-verify-code').value = '';
            document.getElementById('chat-auth-status').innerHTML = '';
            loadChatFeed();
        }
        
        async function loadChatMessages() {
            const container = document.getElementById('chat-messages');
            if (!container) return;
            try {
                const r = await fetch(`/api/chat/messages?country=${currentCountry}`);
                const data = await r.json();
                const messages = data.messages || [];
                if (messages.length === 0) {
                    container.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</div>';
                    return;
                }
                const isAdmin = adminAuthenticated;
                container.innerHTML = messages.map(msg => {
                    const date = new Date(msg.timestamp);
                    const timeStr = date.toLocaleString('ru-RU', { day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit' });
                    const isMe = msg.username === chatUsername;
                    const deleteBtn = isAdmin ? `<button onclick="deleteChatMessage('${msg.id}')" style="background: #dc3545; color: white; border: none; padding: 2px 6px; border-radius: 4px; font-size: 10px; cursor: pointer; margin-left: 5px;">üóëÔ∏è</button>` : '';
                    const blockBtn = isAdmin && !isMe ? `<button onclick="blockChatUser('${msg.username}')" style="background: #ff9800; color: white; border: none; padding: 2px 6px; border-radius: 4px; font-size: 10px; cursor: pointer; margin-left: 3px;">üö´</button>` : '';
                    return `
                        <div style="background: ${isMe ? '#e3f2fd' : 'white'}; border-radius: 10px; padding: 12px; margin-bottom: 8px; border: 1px solid ${isMe ? '#90caf9' : '#e0e0e0'};">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: #667eea; font-size: 13px;">@${msg.username}${deleteBtn}${blockBtn}</span>
                                <span style="color: #999; font-size: 11px;">${timeStr}</span>
                            </div>
                            <div style="color: #333; font-size: 14px; line-height: 1.5; white-space: pre-wrap;">${msg.message}</div>
                        </div>
                    `;
                }).join('');
                container.scrollTop = container.scrollHeight;
            } catch(e) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
            }
        }
        
        async function sendChatMessage() {
            const input = document.getElementById('chat-message-input');
            const message = input.value.trim();
            if (!message || !chatToken) return;
            input.value = '';
            try {
                const r = await fetch('/api/chat/send', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({token: chatToken, message: message, country: currentCountry})
                });
                const data = await r.json();
                if (!data.success) {
                    alert(data.error || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏');
                    input.value = message;
                } else {
                    loadChatMessages();
                }
            } catch(e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
                input.value = message;
            }
        }
        
        async function deleteChatMessage(msgId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ?')) return;
            try {
                await fetch('/api/admin/chat-delete', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, message_id: msgId})
                });
                loadChatMessages();
            } catch(e) {}
        }
        
        async function blockChatUser(username) {
            if (!confirm(`–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å @${username}?`)) return;
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'add', username: username})
                });
                alert(`@${username} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω`);
                loadChatMessages();
                loadBlacklist();
            } catch(e) {}
        }
        
        async function loadBlacklist() {
            const list = document.getElementById('blacklist-list');
            if (!list || !adminPassword) return;
            try {
                const r = await fetch('/api/admin/chat-blacklist', {
                    method: 'GET',
                    headers: {'X-Admin-Key': adminPassword}
                });
                const data = await r.json();
                const users = data.users || [];
                if (users.length === 0) {
                    list.innerHTML = '<span style="color: #999; font-size: 12px;">–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç</span>';
                    return;
                }
                list.innerHTML = users.map(u => `
                    <div style="display: flex; align-items: center; gap: 5px; background: #fff; border: 1px solid #ef9a9a; border-radius: 20px; padding: 5px 10px;">
                        <span style="font-size: 13px;">@${u}</span>
                        <button onclick="removeFromBlacklist('${u}')" style="background: none; border: none; cursor: pointer; font-size: 12px; color: #c62828;">‚úï</button>
                    </div>
                `).join('');
            } catch(e) {
                list.innerHTML = '<span style="color: #c62828; font-size: 12px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>';
            }
        }
        
        async function addToBlacklist() {
            const input = document.getElementById('blacklist-username');
            const username = input.value.trim();
            if (!username) return;
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'add', username: username})
                });
                input.value = '';
                loadBlacklist();
            } catch(e) {
                alert('–û—à–∏–±–∫–∞');
            }
        }
        
        async function removeFromBlacklist(username) {
            try {
                await fetch('/api/admin/chat-blacklist', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({admin_key: adminPassword, action: 'remove', username: username})
                });
                loadBlacklist();
            } catch(e) {}
        }

        function loadKidsFeed() {
            const feed = document.getElementById('kids-feed');
            if (!feed) return;
            
            feed.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
            
            fetch(`/api/listings/entertainment?country=${currentCountry}`)
                .then(r => r.json())
                .then(messages => {
                    if (!messages || messages.length === 0) {
                        feed.innerHTML = '<div style="text-align: center; padding: 40px; color: #999;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –¥–µ—Ç–µ–π</div>';
                        return;
                    }
                    
                    messages.sort((a, b) => new Date(b.date) - new Date(a.date));
                    
                    feed.innerHTML = messages.map(msg => {
                        const date = new Date(msg.date);
                        const timeStr = date.toLocaleString('ru-RU', { day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit' });
                        const channel = msg.source_channel || '';
                        const text = msg.description || msg.title || '';
                        const hasImage = msg.image_url;
                        const telegramLink = msg.telegram_link || (channel && msg.message_id ? `https://t.me/${channel.replace('@', '')}/${msg.message_id}` : '');
                        
                        return `
                            <div style="background: white; border-radius: 10px; padding: 15px; margin-bottom: 12px; border: 1px solid #ffcc80; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                    <span style="font-weight: 600; color: #ff9800; font-size: 13px;">${channel}</span>
                                    <span style="color: #999; font-size: 11px;">${timeStr}</span>
                                </div>
                                ${hasImage ? `<img src="${msg.image_url}" style="width: 100%; max-height: 300px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;" onerror="this.style.display='none'">` : ''}
                                <div style="color: #333; font-size: 14px; line-height: 1.5; white-space: pre-wrap;">${text.substring(0, 500)}${text.length > 500 ? '...' : ''}</div>
                                ${telegramLink ? `<a href="${telegramLink}" target="_blank" style="display: inline-block; margin-top: 10px; color: #ff9800; font-size: 12px; text-decoration: none;">‚úàÔ∏è –û—Ç–∫—Ä—ã—Ç—å –≤ Telegram</a>` : ''}
                            </div>
                        `;
                    }).join('');
                })
                .catch(err => {
                    feed.innerHTML = '<div style="text-align: center; padding: 40px; color: #f44;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';
                });
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            const messagesDiv = document.getElementById('chat-messages');
            const msgEl = document.createElement('div');
            msgEl.style.cssText = 'background: white; padding: 12px; border-radius: 6px; margin-bottom: 10px; border-left: 3px solid #d4af37;';
            msgEl.innerHTML = `<div style="font-weight: 600; color: #333; font-size: 13px;">–í—ã</div><div style="color: #666; font-size: 12px; margin-top: 4px;">${message}</div><div style="color: #999; font-size: 11px; margin-top: 4px;">${new Date().toLocaleTimeString('ru-RU')}</div>`;
            
            messagesDiv.appendChild(msgEl);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            input.value = '';
        }

        // Allow Enter key to send message
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });

        function loadStats() {
            fetch(`/api/status?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    const totalEl = document.getElementById('total-items');
                    const statusEl = document.getElementById('parser-status');
                    const updateEl = document.getElementById('last-update');
                    if (totalEl) totalEl.innerText = data.total_listings;
                    if (statusEl) statusEl.innerText = data.parser_status === 'connected' ? '–ü–æ–¥–∫–ª—é—á–µ–Ω' : '–û—Ç–∫–ª—é—á–µ–Ω';
                    if (updateEl) updateEl.innerText = new Date(data.last_update).toLocaleTimeString('ru-RU');
                });
            
            loadGroupsStats();
        }
        
        // –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π API –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è tabs
        function getCategoryTabName(cat) {
            const mapping = {
                'real_estate': 'realestate',
                'transport': 'transport',
                'money_exchange': 'exchange',
                'chat': 'chat',
                'restaurants': 'restaurants',
                'tours': 'tours',
                'entertainment': 'entertainment',
                'marketplace': 'marketplace',
                'visas': 'visas',
                'news': 'news',
                'medicine': 'medicine'
            };
            return mapping[cat] || cat;
        }
        
        function loadAdsChannels() {
            const cityParam = currentAdsCity ? `&city=${encodeURIComponent(currentAdsCity)}` : '';
            fetch(`/api/ads-channels?country=${currentCountry}${cityParam}`)
                .then(r => r.json())
                .then(data => {
                    const tbody = document.getElementById('ads-tbody');
                    if (!data.channels || data.channels.length === 0) {
                        tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 20px; color: #888;">–ü–æ–∫–∞ –Ω–µ—Ç –∫–∞–Ω–∞–ª–æ–≤. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π!</td></tr>';
                        return;
                    }
                    
                    const categoryNames = {
                        'chat': 'üí¨ –ß–∞—Ç',
                        'visas': 'üèñÔ∏è –í–∏–∑—ã',
                        'realestate': 'üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                        'transport': 'üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
                        'exchange': 'üí± –û–±–º–µ–Ω',
                        'marketplace': 'üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞',
                        'restaurants': 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã',
                        'tours': 'üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏',
                        'entertainment': 'üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
                        'medicine': 'üè• –ú–µ–¥–∏—Ü–∏–Ω–∞',
                        'news': 'üì∞ –ù–æ–≤–æ—Å—Ç–∏'
                    };
                    
                    let rows = '';
                    for (const ch of data.channels) {
                        const catName = categoryNames[ch.category] || ch.category;
                        const cityName = ch.city || '';
                        rows += `
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 12px;">
                                    <div style="font-weight: 600;">${ch.name}</div>
                                    <div style="font-size: 12px; color: #888;">${catName}${cityName ? ' ‚Ä¢ ' + cityName : ''}</div>
                                </td>
                                <td style="padding: 12px; text-align: center;">${ch.members.toLocaleString()}</td>
                                <td style="padding: 12px; text-align: center; font-weight: bold; color: #d4af37;">$${ch.price}</td>
                                <td style="padding: 12px; text-align: center;">
                                    <a href="https://t.me/${ch.contact.replace('@', '')}" target="_blank" style="color: #0088cc; text-decoration: none;">${ch.contact}</a>
                                </td>
                                <td style="padding: 12px; text-align: center;">
                                    <a href="https://t.me/${ch.contact.replace('@', '')}" target="_blank" style="padding: 8px 16px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 6px; text-decoration: none; font-size: 13px;">üì© –ó–∞–∫–∞–∑–∞—Ç—å</a>
                                </td>
                            </tr>
                        `;
                    }
                    tbody.innerHTML = rows;
                })
                .catch(e => console.error('Error loading ads channels:', e));
        }
        
        let currentAdsCity = '';
        
        const citiesByCountry = {
            'vietnam': ['–ù—è—á–∞–Ω–≥', '–•–æ—à–∏–º–∏–Ω', '–î–∞–Ω–∞–Ω–≥', '–•–∞–Ω–æ–π', '–§—É–∫—É–æ–∫', '–§–∞–Ω—Ç—å–µ—Ç', '–ú—É–π–Ω–µ', '–î–∞–ª–∞—Ç', '–ö–∞–º—Ä–∞–Ω—å'],
            'thailand': ['–ë–∞–Ω–≥–∫–æ–∫', '–ü—Ö—É–∫–µ—Ç', '–ß–∏–∞–Ω–≥–º–∞–π', '–ü–∞—Ç—Ç–∞–π—è', '–°–∞–º—É–∏', '–•—É–∞—Ö–∏–Ω', '–ö—Ä–∞–±–∏', '–ß–∏–∞–Ω–≥—Ä–∞–π', '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏'],
            'indonesia': ['–î–∂–∞–∫–∞—Ä—Ç–∞', '–ë–∞–ª–∏', '–°—É—Ä–∞–±–∞—è', '–ë–∞–Ω–¥—É–Ω–≥', '–ú–µ–¥–∞–Ω', '–°–µ–º–∞—Ä–∞–Ω–≥', '–î–µ–Ω–ø–∞—Å–∞—Ä', '–ú–∞–∫–∞—Å–∞—Ä', '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞'],
            'india': ['–ú—É–º–±–∞–∏', '–î–µ–ª–∏', '–ë–∞–Ω–≥–∞–ª–æ—Ä', '–•–∞–π–¥–∞—Ä–∞–±–∞–¥', '–ß–µ–Ω–Ω–∞–∏', '–ü—É–Ω–∞', '–ö–æ–ª–∫–∞—Ç–∞', '–ê—Ö–º–µ–¥–∞–±–∞–¥', '–ì–æ–∞']
        };
        
        const sectionCityImages = {
            restaurants: {
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1552566626-52f8b828add9?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1537047902294-62a40c20a6ae?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1424847651672-bf20a4b0982b?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1572715376701-98568319fd0b?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1551218808-94e220e084d2?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1432139509613-5c4255815697?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1473093295043-cdd812d0e601?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop'
                }
            },
            tours: {
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1504214208698-ea1916a2195a?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1540541338287-41700207dee6?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1528181304800-259b08848526?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1563492065599-3520f775eeed?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1555899434-94d1368aa7af?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1596402184320-417e7178b2cd?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1539367628448-4bc5c9d171c8?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1518509562904-e7ef99cdcc86?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1584810359583-96fc3448beaa?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1529253355930-ddbe423a2ac7?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1587474260584-136574528ed5?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1558431382-27e303142255?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1595658658481-d53d3f999875?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1587922546307-776227941871?w=300&h=200&fit=crop'
                }
            },
            entertainment: {
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1429962714451-bb934ecdc4ec?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1506157786151-b8491531f063?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1501386761578-eac5c94b800a?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1524368535928-5b5e00ddc76b?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1415201364774-f6f0bb35f28f?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1464375117522-1311d6a5b81f?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1496024840928-4c417adf211d?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1481066717861-4775e000c88a?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1485872299829-c673f5194813?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1429514513361-8fa32282fd5f?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1504680177321-2e6a879aac86?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1518609878373-06d740f60d8b?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1478147427282-58a87a120781?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1468359601543-843bfaef291a?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1507676184212-d03ab07a01bf?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=300&h=200&fit=crop'
                }
            },
            transport: {
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1568772585407-9361f9bf3a87?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1558981403-c5f9899a28bc?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1558980664-769d59546b3d?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1485291571150-772bcfc10da5?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1558981285-6f0c94958bb6?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1549399542-7e3f8b79c341?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1502877338535-766e1452684a?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1489824904134-891ab64532f1?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1493238792000-8113da705763?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1517524008697-84bbe3c3fd98?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1542362567-b07e54358753?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1504215680853-026ed2a45def?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1526726538690-5cbf956ae2fd?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1519046904884-53103b34b206?w=300&h=200&fit=crop'
                }
            },
            realestate: {
                thailand: {
                    '–ë–∞–Ω–≥–∫–æ–∫': 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=300&h=200&fit=crop',
                    '–ü—Ö—É–∫–µ—Ç': 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥–º–∞–π': 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=300&h=200&fit=crop',
                    '–ü–∞—Ç—Ç–∞–π—è': 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=300&h=200&fit=crop',
                    '–°–∞–º—É–∏': 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=300&h=200&fit=crop',
                    '–•—É–∞—Ö–∏–Ω': 'https://images.unsplash.com/photo-1613977257363-707ba9348227?w=300&h=200&fit=crop',
                    '–ö—Ä–∞–±–∏': 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=300&h=200&fit=crop',
                    '–ß–∏–∞–Ω–≥—Ä–∞–π': 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=300&h=200&fit=crop',
                    '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏': 'https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=300&h=200&fit=crop'
                },
                indonesia: {
                    '–î–∂–∞–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1600573472592-401b489a3cdc?w=300&h=200&fit=crop',
                    '–ë–∞–ª–∏': 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=300&h=200&fit=crop',
                    '–°—É—Ä–∞–±–∞—è': 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–¥—É–Ω–≥': 'https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=300&h=200&fit=crop',
                    '–ú–µ–¥–∞–Ω': 'https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?w=300&h=200&fit=crop',
                    '–°–µ–º–∞—Ä–∞–Ω–≥': 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=300&h=200&fit=crop',
                    '–î–µ–Ω–ø–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1600607687644-c7171b42498f?w=300&h=200&fit=crop',
                    '–ú–∞–∫–∞—Å–∞—Ä': 'https://images.unsplash.com/photo-1600585153490-76fb20a32601?w=300&h=200&fit=crop',
                    '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞': 'https://images.unsplash.com/photo-1600563438938-a9a27215b1fc?w=300&h=200&fit=crop'
                },
                india: {
                    '–ú—É–º–±–∞–∏': 'https://images.unsplash.com/photo-1600566753051-f0b89df2dd90?w=300&h=200&fit=crop',
                    '–î–µ–ª–∏': 'https://images.unsplash.com/photo-1600047509358-9dc75507daeb?w=300&h=200&fit=crop',
                    '–ë–∞–Ω–≥–∞–ª–æ—Ä': 'https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?w=300&h=200&fit=crop',
                    '–•–∞–π–¥–∞—Ä–∞–±–∞–¥': 'https://images.unsplash.com/photo-1600585152220-90363fe7e115?w=300&h=200&fit=crop',
                    '–ß–µ–Ω–Ω–∞–∏': 'https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=300&h=200&fit=crop',
                    '–ü—É–Ω–∞': 'https://images.unsplash.com/photo-1600566752229-250ed79470f8?w=300&h=200&fit=crop',
                    '–ö–æ–ª–∫–∞—Ç–∞': 'https://images.unsplash.com/photo-1600573472591-ee6b68d14c68?w=300&h=200&fit=crop',
                    '–ê—Ö–º–µ–¥–∞–±–∞–¥': 'https://images.unsplash.com/photo-1600607688969-a5bfcd646154?w=300&h=200&fit=crop',
                    '–ì–æ–∞': 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=300&h=200&fit=crop'
                }
            }
        };
        
        const cityImages = sectionCityImages.tours.thailand;
        
        const adsCitiesByCountry = citiesByCountry;
        
        // –ì–æ—Ä–æ–¥–∞ –¥–ª—è —Ñ–æ—Ä–º –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
        const formCitiesByCountry = {
            'vietnam': [
                {value: 'Nha Trang', label: '–ù—è—á–∞–Ω–≥'},
                {value: 'Ho Chi Minh', label: '–•–æ—à–∏–º–∏–Ω'},
                {value: 'Da Nang', label: '–î–∞–Ω–∞–Ω–≥'},
                {value: 'Hanoi', label: '–•–∞–Ω–æ–π'},
                {value: 'Phu Quoc', label: '–§—É–∫—É–æ–∫'},
                {value: 'Phan Thiet', label: '–§–∞–Ω—Ç—å–µ—Ç'},
                {value: 'Cam Ranh', label: '–ö–∞–º—Ä–∞–Ω—å'},
                {value: 'Da Lat', label: '–î–∞–ª–∞—Ç'},
                {value: 'Hoi An', label: '–•–æ–π–∞–Ω'}
            ],
            'thailand': [
                {value: 'Bangkok', label: '–ë–∞–Ω–≥–∫–æ–∫'},
                {value: 'Phuket', label: '–ü—Ö—É–∫–µ—Ç'},
                {value: 'Chiang Mai', label: '–ß–∏–∞–Ω–≥–º–∞–π'},
                {value: 'Pattaya', label: '–ü–∞—Ç—Ç–∞–π—è'},
                {value: 'Samui', label: '–°–∞–º—É–∏'},
                {value: 'Hua Hin', label: '–•—É–∞—Ö–∏–Ω'},
                {value: 'Krabi', label: '–ö—Ä–∞–±–∏'},
                {value: 'Chiang Rai', label: '–ß–∏–∞–Ω–≥—Ä–∞–π'},
                {value: 'Udon Thani', label: '–£–¥–æ–Ω –¢—Ö–∞–Ω–∏'}
            ],
            'indonesia': [
                {value: 'Jakarta', label: '–î–∂–∞–∫–∞—Ä—Ç–∞'},
                {value: 'Bali', label: '–ë–∞–ª–∏'},
                {value: 'Surabaya', label: '–°—É—Ä–∞–±–∞—è'},
                {value: 'Bandung', label: '–ë–∞–Ω–¥—É–Ω–≥'},
                {value: 'Medan', label: '–ú–µ–¥–∞–Ω'},
                {value: 'Semarang', label: '–°–µ–º–∞—Ä–∞–Ω–≥'},
                {value: 'Denpasar', label: '–î–µ–Ω–ø–∞—Å–∞—Ä'},
                {value: 'Makassar', label: '–ú–∞–∫–∞—Å–∞—Ä'},
                {value: 'Yogyakarta', label: '–î–∂–æ–∫—å—è–∫–∞—Ä—Ç–∞'}
            ],
            'india': [
                {value: 'Mumbai', label: '–ú—É–º–±–∞–∏'},
                {value: 'Delhi', label: '–î–µ–ª–∏'},
                {value: 'Bangalore', label: '–ë–∞–Ω–≥–∞–ª–æ—Ä'},
                {value: 'Hyderabad', label: '–•–∞–π–¥–∞—Ä–∞–±–∞–¥'},
                {value: 'Chennai', label: '–ß–µ–Ω–Ω–∞–∏'},
                {value: 'Pune', label: '–ü—É–Ω–∞'},
                {value: 'Kolkata', label: '–ö–æ–ª–∫–∞—Ç–∞'},
                {value: 'Ahmedabad', label: '–ê—Ö–º–µ–¥–∞–±–∞–¥'},
                {value: 'Goa', label: '–ì–æ–∞'}
            ]
        };
        
        function updateFormCities() {
            const cities = formCitiesByCountry[currentCountry] || formCitiesByCountry['vietnam'];
            const formSelects = ['tour-city', 'restaurant-city', 'entertainment-city', 'transport-city', 'realestate-city'];
            
            formSelects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (!select) return;
                
                let html = '';
                cities.forEach(city => {
                    html += `<option value="${city.value}">${city.label}</option>`;
                });
                select.innerHTML = html;
            });
        }
        
        function renderDynamicCityButtons() {
            const cities = citiesByCountry[currentCountry] || [];
            
            // –†–µ–Ω–¥–µ—Ä–∏–º –≥–æ—Ä–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
            const sections = ['restaurants', 'tours', 'entertainment', 'transport', 'realestate'];
            const sectionLabels = {
                'restaurants': '—Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤',
                'tours': '—ç–∫—Å–∫—É—Ä—Å–∏–π',
                'entertainment': '—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π',
                'transport': '–æ–±—ä—è–≤–ª–µ–Ω–∏–π',
                'realestate': '–æ–±—ä—è–≤–ª–µ–Ω–∏–π'
            };
            const sectionFilters = {
                'restaurants': 'filterRestaurantsByCity',
                'tours': 'filterToursByCity',
                'entertainment': 'filterEntertainmentByCity',
                'transport': 'filterByCity',
                'realestate': 'filterRealEstateByCity'
            };
            
            sections.forEach(section => {
                const container = document.getElementById(`${section}-city-grid`);
                if (!container) return;
                
                const sectionData = sectionCityImages[section] || sectionCityImages.tours;
                const sectionImages = sectionData[currentCountry] || sectionData.thailand || {};
                
                let html = '';
                cities.forEach((city, idx) => {
                    const isFirst = idx === 0;
                    const img = sectionImages[city] || 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop';
                    const editBtn = adminAuthenticated ? 
                        `<button onclick="event.stopPropagation(); openCityEditModal('${section}', ${idx}, '${city}', '${img}')" style="position: absolute; top: 8px; right: 8px; width: 32px; height: 32px; background: rgba(255,255,255,0.95); border: none; border-radius: 50%; cursor: pointer; font-size: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 10;">‚úèÔ∏è</button>` : '';
                    html += `
                        <div class="tour-city-btn ${section}-city-btn" data-city="${city}" onclick="${sectionFilters[section]}('${city}')" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid ${isFirst ? '#d4af37' : 'transparent'};">
                            ${editBtn}
                            <img src="${img}" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                                <div class="city-name" style="font-weight: bold; font-size: 16px;">${city}</div>
                                <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #666;">0 ${sectionLabels[section]}</div>
                            </div>
                        </div>
                    `;
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"
                const submitLabels = {
                    'restaurants': '–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω',
                    'tours': '–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é',
                    'entertainment': '–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ',
                    'transport': '–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
                    'realestate': '–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'
                };
                const submitActions = {
                    'restaurants': "switchTab('submit-restaurant'); loadRestaurantCaptcha();",
                    'tours': "switchTab('submit-tour'); loadTourCaptcha();",
                    'entertainment': "switchTab('submit-entertainment'); loadEntertainmentCaptcha();",
                    'transport': "switchTab('submit-transport'); loadTransportCaptcha();",
                    'realestate': "switchTab('submit-realestate'); loadRealEstateCaptcha();"
                };
                html += `
                    <div class="tour-city-btn submit-btn" onclick="${submitActions[section]}" style="cursor: pointer; position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 4/3; box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 3px solid #4CAF50;">
                        <img src="/static/images/submit_listing.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="city-info" style="position: absolute; bottom: 0; left: 0; right: 0; background: rgba(255,255,255,0.95); color: #333; padding: 12px; text-align: center;">
                            <div class="city-name" style="font-weight: bold; font-size: 18px;">üìù –ü–æ–¥–∞—Ç—å</div>
                            <div class="tour-count" style="font-size: 13px; margin-top: 4px; color: #4CAF50;">${submitLabels[section]}</div>
                        </div>
                    </div>
                `;
                container.innerHTML = html;
            });
        }
        
        function renderKidsCityFilter() {
            const container = document.getElementById('kids-city-filter');
            if (!container) return;
            
            const cities = formCitiesByCountry[currentCountry] || [];
            
            let html = `<button class="kids-city-btn" data-city="" onclick="filterKidsCity('')" style="padding: 8px 16px; border: 2px solid #d4af37; background: #d4af37; color: white; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">–í—Å–µ</button>`;
            
            cities.forEach(city => {
                html += `<button class="kids-city-btn" data-city="${city.value}" onclick="filterKidsCity('${city.value}')" style="padding: 8px 16px; border: 2px solid #ccc; background: #fff; color: #333; border-radius: 20px; cursor: pointer; font-size: 13px;">${city.label}</button>`;
            });
            
            container.innerHTML = html;
        }
        
        function updateKidsCitySelect() {
            const select = document.getElementById('kids-city');
            if (!select) return;
            
            const cities = formCitiesByCountry[currentCountry] || [];
            let html = '';
            cities.forEach(city => {
                html += `<option value="${city.value}">${city.label}</option>`;
            });
            select.innerHTML = html;
        }
        
        function updateFormCurrency() {
            const currencies = {
                'vietnam': 'VND',
                'thailand': 'THB',
                'india': 'INR',
                'indonesia': 'IDR'
            };
            const currency = currencies[currentCountry] || 'VND';
            
            const transportLabel = document.getElementById('transport-price-label');
            if (transportLabel) transportLabel.textContent = 'üí∞ –¶–µ–Ω–∞ (' + currency + ') *';
            
            const realestateLabel = document.getElementById('realestate-price-label');
            if (realestateLabel) realestateLabel.textContent = 'üí∞ –¶–µ–Ω–∞ (' + currency + ') *';
        }
        
        function renderAdsCityFilter() {
            const container = document.getElementById('ads-city-filter');
            const cities = adsCitiesByCountry[currentCountry] || [];
            
            let html = `<button class="ads-city-btn" data-city="" onclick="filterAdsByCity('')" style="padding: 8px 16px; border: 2px solid #667eea; border-radius: 20px; background: ${currentAdsCity === '' ? '#667eea' : '#fff'}; color: ${currentAdsCity === '' ? 'white' : '#333'}; cursor: pointer; font-size: 13px; font-weight: 500;">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>`;
            
            for (const city of cities) {
                const isActive = currentAdsCity === city;
                html += `<button class="ads-city-btn" data-city="${city}" onclick="filterAdsByCity('${city}')" style="padding: 8px 16px; border: 2px solid #667eea; border-radius: 20px; background: ${isActive ? '#667eea' : '#fff'}; color: ${isActive ? 'white' : '#333'}; cursor: pointer; font-size: 13px;">${city}</button>`;
            }
            
            container.innerHTML = html;
        }
        
        function updateAdsCitySelect() {
            const select = document.getElementById('add-channel-city');
            if (!select) return;
            const cities = adsCitiesByCountry[currentCountry] || [];
            
            let html = '';
            for (const city of cities) {
                html += `<option value="${city}">${city}</option>`;
            }
            html += '<option value="other">–î—Ä—É–≥–æ–π</option>';
            select.innerHTML = html;
        }
        
        function filterAdsByCity(city) {
            currentAdsCity = city;
            document.querySelectorAll('.ads-city-btn').forEach(btn => {
                btn.style.background = btn.dataset.city === city ? '#667eea' : '#fff';
                btn.style.color = btn.dataset.city === city ? 'white' : '#333';
            });
            loadAdsChannels();
        }
        
        async function addChannelForAds() {
            const name = document.getElementById('add-channel-name').value.trim();
            const category = document.getElementById('add-channel-category').value;
            const city = document.getElementById('add-channel-city').value;
            const members = parseInt(document.getElementById('add-channel-members').value) || 0;
            const price = parseInt(document.getElementById('add-channel-price').value) || 0;
            const contact = document.getElementById('add-channel-contact').value.trim();
            const status = document.getElementById('add-channel-status');
            
            if (!name || !contact || !city || !members || !price) {
                status.innerHTML = '<span style="color: #dc3545;">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</span>';
                return;
            }
            
            try {
                const r = await fetch('/api/ads-channels/add', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({name, category, city, members, price, contact, country: currentCountry})
                });
                const data = await r.json();
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –ö–∞–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é!</span>';
                    document.getElementById('add-channel-name').value = '';
                    document.getElementById('add-channel-members').value = '';
                    document.getElementById('add-channel-price').value = '';
                    document.getElementById('add-channel-contact').value = '';
                } else {
                    status.innerHTML = `<span style="color: #dc3545;">${data.error}</span>`;
                }
            } catch(e) {
                status.innerHTML = '<span style="color: #dc3545;">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        function loadGroupsStats() {
            currentAdsCity = '';
            renderAdsCityFilter();
            updateAdsCitySelect();
            loadAdsChannels();
        }

        function isEnglishOnly(text) {
            if (!text) return false;
            for (let i = 0; i < text.length; i++) {
                const code = text.charCodeAt(i);
                if (code > 127 && '.,!?-‚Ä¶()[]{}":;/\\ '.indexOf(text[i]) === -1) {
                    return false;
                }
            }
            return true;
        }

        function filterByCity(city) {
            console.log("Filtering by city:", city);
            loadListings(null, city);
        }
        
        let currentEntertainmentCity = '–ù—è—á–∞–Ω–≥';
        
        function filterEntertainmentByCity(city) {
            currentEntertainmentCity = city;
            document.querySelectorAll('.entertainment-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('entertainment', city);
        }
        
        let currentVisasCity = '';
        
        function filterVisasByCity(city) {
            currentVisasCity = city;
            document.querySelectorAll('.visas-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('visas', city);
        }
        
        let currentKidsCategory = 'events';
        let currentKidsCity = '';
        let currentKidsAge = '';
        
        function filterKidsCategory(type) {
            currentKidsCategory = type;
            document.querySelectorAll('.kids-category-btn').forEach(btn => {
                btn.style.border = btn.dataset.type === type ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadKidsFeed();
        }
        
        function filterKidsCity(city) {
            currentKidsCity = city;
            document.querySelectorAll('.kids-city-btn').forEach(btn => {
                if (btn.dataset.city === city) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #d4af37';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadKidsFeed();
        }
        
        function filterKidsAge(age) {
            currentKidsAge = age;
            document.querySelectorAll('.kids-age-btn').forEach(btn => {
                if (btn.dataset.age === age) {
                    btn.style.background = '#9C27B0';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #9C27B0';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadKidsFeed();
        }
        
        function loadKidsFeed() {
            const feed = document.getElementById('kids-feed');
            feed.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
            
            let url = `/api/listings/kids?country=${currentCountry}&kids_type=${currentKidsCategory}&_t=${Date.now()}`;
            if (currentKidsCity) url += `&city=${encodeURIComponent(currentKidsCity)}`;
            if (currentKidsAge) url += `&max_age=${currentKidsAge}`;
            
            fetch(url)
                .then(r => r.json())
                .then(data => {
                    if (!data || data.length === 0) {
                        feed.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">–û–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                        return;
                    }
                    
                    let html = '<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">' + data.map(item => {
                        let images = item.all_images || (item.image_url ? [item.image_url] : []);
                        let sliderHtml = '';
                        
                        const kidsTypeLabel = {
                            'schools': 'üè´ –°–∞–¥–∏–∫–∏ –∏ —à–∫–æ–ª—ã',
                            'events': 'üéà –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è', 
                            'nannies': 'üë©‚Äçüëß –ù—è–Ω–∏ –∏ –∫—Ä—É–∂–∫–∏'
                        }[item.kids_type] || '';
                        
                        if (images.length > 0) {
                            sliderHtml = `<div style="width: 100%; height: 180px; overflow: hidden; border-radius: 8px 8px 0 0; position: relative;">
                                <img src="${images[0]}" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.src='/static/images/placeholder.jpg'">
                                <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.5); padding: 8px 12px; border-radius: 8px; display: flex; flex-direction: column; gap: 4px;">
                                    ${kidsTypeLabel ? `<span style="color: white; font-size: 13px; font-weight: 600;">${kidsTypeLabel}</span>` : ''}
                                    ${item.city ? `<span style="color: white; font-size: 12px; font-weight: 600;">üìç ${item.city}</span>` : ''}
                                    ${item.age ? `<span style="color: white; font-size: 12px; font-weight: 600;">üë∂ ${item.age}</span>` : ''}
                                </div>
                            </div>`;
                        } else {
                            sliderHtml = `<div style="width: 100%; height: 180px; background: linear-gradient(135deg, #FFE0B2 0%, #FFCC80 100%); border-radius: 8px 8px 0 0; position: relative; display: flex; align-items: center; justify-content: center;">
                                <span style="font-size: 48px;">üè´</span>
                                <div style="position: absolute; top: 8px; left: 8px; background: rgba(0,0,0,0.5); padding: 8px 12px; border-radius: 8px; display: flex; flex-direction: column; gap: 4px;">
                                    ${kidsTypeLabel ? `<span style="color: white; font-size: 13px; font-weight: 600;">${kidsTypeLabel}</span>` : ''}
                                    ${item.city ? `<span style="color: white; font-size: 12px; font-weight: 600;">üìç ${item.city}</span>` : ''}
                                    ${item.age ? `<span style="color: white; font-size: 12px; font-weight: 600;">üë∂ ${item.age}</span>` : ''}
                                </div>
                            </div>`;
                        }
                        
                        return `<div style="background: white; border-radius: 12px; border: 1px solid #eee; box-shadow: 0 2px 8px rgba(0,0,0,0.05); overflow: hidden;">
                            ${sliderHtml}
                            <div style="padding: 15px;">
                                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 15px;">${item.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</h4>
                                <p style="margin: 0 0 10px 0; color: #666; font-size: 13px; line-height: 1.5; white-space: pre-line;">${(item.description || '').substring(0, 250)}...</p>
                                <div style="font-size: 12px; color: #999;">${item.date || ''}</div>
                            </div>
                        </div>`;
                    }).join('') + '</div>';
                    
                    feed.innerHTML = html;
                })
                .catch(err => {
                    feed.innerHTML = '<p style="text-align: center; color: #ff6b6b; padding: 40px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
                });
        }
        
        let currentRestaurantCity = '–ù—è—á–∞–Ω–≥';
        let currentRestaurantType = 'all';
        
        function filterRestaurantsByCity(city) {
            currentRestaurantCity = city;
            document.querySelectorAll('.restaurant-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('restaurants', city);
        }
        
        function filterRestaurantType(type) {
            currentRestaurantType = type;
            document.querySelectorAll('.rest-type-btn').forEach(btn => {
                if (btn.dataset.type === type) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = 'none';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                }
            });
            loadListings('restaurants', currentRestaurantCity);
        }
        
        function searchNearby5km() {
            if (!navigator.geolocation) {
                alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º');
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    const url = `https://www.google.com/maps/search/restaurants/@${lat},${lon},14z`;
                    window.open(url, '_blank');
                },
                (error) => {
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.');
                }
            );
        }

        let currentToursCity = '–ù—è—á–∞–Ω–≥';
        
        function filterToursByCity(city) {
            currentToursCity = city;
            document.querySelectorAll('.tours-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('tours', city);
        }

        let currentTransportType = 'bikes';
        let currentTransportCity = '';
        
        function filterTransportCity(city) {
            currentTransportCity = city;
            document.querySelectorAll('.transport-city-btn').forEach(btn => {
                if (btn.dataset.city === city) {
                    btn.style.background = '#d4af37';
                    btn.style.color = 'white';
                    btn.style.border = '2px solid #d4af37';
                    btn.style.fontWeight = '600';
                } else {
                    btn.style.background = '#fff';
                    btn.style.color = '#333';
                    btn.style.border = '2px solid #ccc';
                    btn.style.fontWeight = 'normal';
                }
            });
            loadListings('transport', currentTransportType);
        }
        
        function filterTransportByType(type) {
            currentTransportType = type;
            document.querySelectorAll('.transport-type-btn').forEach(btn => {
                btn.style.border = btn.dataset.type === type ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('transport', type);
        }

        let currentRealEstateCity = 'nhatrang';
        let currentRealEstateSort = '';
        let currentRealEstateType = '';
        let currentRealEstatePriceMax = null;
        
        function filterRealEstateByCity(city) {
            currentRealEstateCity = city;
            document.querySelectorAll('.realestate-city-btn').forEach(btn => {
                btn.style.border = btn.dataset.city === city ? '3px solid #d4af37' : '3px solid transparent';
            });
            loadListings('real_estate');
        }
        
        function filterRealEstateType(type) {
            if (currentRealEstateType === type) {
                currentRealEstateType = '';
                document.querySelectorAll('.filter-type-btn').forEach(btn => btn.style.background = '#fff');
            } else {
                currentRealEstateType = type;
                document.querySelectorAll('.filter-type-btn').forEach(btn => btn.style.background = '#fff');
                document.getElementById('filter-' + type).style.background = type === 'rent' ? '#2196F3' : '#4CAF50';
                document.getElementById('filter-' + type).style.color = '#fff';
            }
            document.querySelectorAll('.filter-type-btn').forEach(btn => {
                if (btn.id !== 'filter-' + currentRealEstateType) {
                    btn.style.color = '#333';
                }
            });
            loadListings('real_estate');
        }
        
        function sortRealEstate(sortType) {
            currentRealEstateSort = sortType;
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.style.background = '#fff';
                btn.style.color = '#333';
            });
            loadListings('real_estate');
        }
        
        function filterRealEstatePrice(maxPrice) {
            currentRealEstatePriceMax = maxPrice;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.style.background = '#fff';
                btn.style.color = '#333';
            });
            loadListings('real_estate');
        }
        
        function resetRealEstateFilters() {
            currentRealEstateSort = '';
            currentRealEstatePriceMax = null;
            currentRealEstateType = '';
            document.querySelectorAll('.sort-btn, .filter-btn, .filter-type-btn').forEach(btn => {
                btn.style.background = '#fff';
                btn.style.color = '#333';
            });
            loadListings('real_estate');
        }
        
        function loadRealEstateCounts() {
            fetch(`/api/listings/real_estate?country=${currentCountry}`)
                .then(r => r.json())
                .then(data => {
                    let nhatrangCount = data.filter(item => (item.city || 'nhatrang') === 'nhatrang').length;
                    let danangCount = data.filter(item => item.city === 'danang').length;
                    document.getElementById('realestate-nhatrang-count').textContent = nhatrangCount + ' –æ–±—ä—è–≤–ª–µ–Ω–∏–π';
                    document.getElementById('realestate-danang-count').textContent = danangCount + ' –æ–±—ä—è–≤–ª–µ–Ω–∏–π';
                });
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatPrice(priceStr) {
            if (!priceStr) return '';
            let str = String(priceStr).toLowerCase();
            let multiplier = 1;
            
            if (str.includes('–º–ª–Ω') || str.includes('mln') || str.includes('–º–∏–ª–ª–∏–æ–Ω')) {
                multiplier = 1000000;
            }
            
            str = str.replace(/,/g, '.');
            let num = parseFloat(str.replace(/[^\d.]/g, ''));
            
            if (isNaN(num) || num === 0) return priceStr;
            
            // –ï—Å–ª–∏ —á–∏—Å–ª–æ –º–∞–ª–µ–Ω—å–∫–æ–µ (1-999), —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —ç—Ç–æ –º–∏–ª–ª–∏–æ–Ω—ã
            if (num < 1000 && multiplier === 1) {
                multiplier = 1000000;
            }
            
            num = num * multiplier;
            
            let formatted = Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
            return formatted + ' VND';
        }

        function changeListingImage(listingId, direction, event) {
            if (event) event.stopPropagation();
            const slider = document.getElementById(`slider-${listingId}`);
            if (!slider) return;
            
            const imgs = slider.querySelectorAll('img');
            const dots = slider.querySelectorAll('.slider-dot');
            let activeIdx = Array.from(imgs).findIndex(img => img.classList.contains('active'));
            
            imgs[activeIdx].classList.remove('active');
            dots[activeIdx].classList.remove('active');
            
            activeIdx = (activeIdx + direction + imgs.length) % imgs.length;
            
            imgs[activeIdx].classList.add('active');
            dots[activeIdx].classList.add('active');
        }

        function loadListings(category, city = '') {
            if (!category) {
                // Determine category from active tab or current context
                const activeTab = document.querySelector('.tab.active');
                if (activeTab) {
                    const onclick = activeTab.getAttribute('onclick');
                    const match = onclick.match(/'([^']+)'/);
                    if (match) category = match[1];
                }
            }
            if (!category) category = 'restaurants';

            // Map category names if needed
            let displayCategory = category;
            if (category === 'real_estate') displayCategory = 'realestate';
            if (category === 'money_exchange') displayCategory = 'exchange';

            // Show/hide city buttons for Vietnam
            const vietnamToursBtns = document.getElementById('vietnam-tours-buttons');
            if (vietnamToursBtns) {
                vietnamToursBtns.style.display = (category === 'tours' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            const vietnamRestBtns = document.getElementById('vietnam-restaurants-buttons');
            if (vietnamRestBtns) {
                vietnamRestBtns.style.display = (category === 'restaurants' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            const vietnamEntBtns = document.getElementById('vietnam-entertainment-buttons');
            if (vietnamEntBtns) {
                vietnamEntBtns.style.display = (category === 'entertainment' && currentCountry === 'vietnam') ? 'block' : 'none';
            }
            const vietnamVisasBtns = document.getElementById('vietnam-visas-buttons');
            if (vietnamVisasBtns) {
                vietnamVisasBtns.style.display = (category === 'visas' && currentCountry === 'vietnam') ? 'block' : 'none';
            }

            let params = new URLSearchParams();
            params.append('country', currentCountry);
            if (city) params.append('city', city);
            
            if (category === 'transport') {
                if (currentTransportCity) params.append('city', currentTransportCity);
                if (document.getElementById('bike-model')) params.append('model', document.getElementById('bike-model').value);
                if (document.getElementById('bike-year')) params.append('year', document.getElementById('bike-year').value);
                if (document.getElementById('bike-price-min')) params.append('price_min', document.getElementById('bike-price-min').value);
                if (document.getElementById('bike-price-max')) params.append('price_max', document.getElementById('bike-price-max').value);
            }
            
            if (category === 'real_estate') {
                params.append('realestate_city', currentRealEstateCity);
                if (currentRealEstateSort) params.append('sort', currentRealEstateSort);
                if (currentRealEstateType) params.append('listing_type', currentRealEstateType);
                if (currentRealEstatePriceMax) params.append('price_max', currentRealEstatePriceMax);
            }
            
            // –í —Ä–µ–∂–∏–º–µ –∞–¥–º–∏–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
            if (adminAuthenticated) {
                params.append('show_hidden', '1');
            }
            
            const url = `/api/listings/${category}?` + params.toString() + '&_t=' + Date.now();
            console.log('Fetching:', url);
            
            fetch(url)
                .then(r => r.json())
                .then(data => {
                    console.log(`DEBUG: API returned ${data.length} items for ${category}`);
                    let gridId = category === 'transport' ? 'transport-grid' : category === 'real_estate' ? 'real_estate-grid' : category + '-grid';
                    
                    let filteredData = data.filter(item => {
                        // –î–ª—è –í—å–µ—Ç–Ω–∞–º–∞ –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –æ—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —è–∑—ã–∫–∞, —á—Ç–æ–±—ã –Ω–µ —Ç–µ—Ä—è—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
                        if (currentCountry === 'vietnam' && ['restaurants', 'tours', 'entertainment', 'real_estate', 'transport'].includes(category)) {
                            // –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
                            if (category === 'restaurants' && currentRestaurantType !== 'all') {
                                if (currentRestaurantType === 'high_rating') {
                                    // –§–∏–ª—å—Ç—Ä –ø–æ –≤—ã—Å–æ–∫–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É (4.0+)
                                    const rating = parseFloat(item.google_rating) || 0;
                                    if (rating < 4.0) {
                                        return false;
                                    }
                                } else if (currentRestaurantType === '–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') {
                                    // –§–∏–ª—å—Ç—Ä –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
                                    const desc = (item.description || item.title || '').toLowerCase();
                                    const restType = (item.restaurant_type || '').toLowerCase();
                                    const seafoodKeywords = ['–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç', 'seafood', '—Ä—ã–±', '–∫—Ä–∞–±', '–∫—Ä–µ–≤–µ—Ç–∫', '—É—Å—Ç—Ä–∏—Ü', '–æ–º–∞—Ä', '–ª–æ–±—Å—Ç–µ—Ä', '–∫–∞–ª—å–º–∞—Ä', '–æ—Å—å–º–∏–Ω–æ–≥', '–º–∏–¥–∏–∏', 'fish', 'crab', 'shrimp', 'oyster', 'h·∫£i s·∫£n'];
                                    const hasSeafood = seafoodKeywords.some(kw => desc.includes(kw) || restType.includes(kw));
                                    if (!hasSeafood) {
                                        return false;
                                    }
                                } else {
                                    const desc = (item.description || item.title || '').toLowerCase();
                                    if (!desc.includes(currentRestaurantType)) {
                                        return false;
                                    }
                                }
                            }
                            return true;
                        }
                        const text = (item.description || item.text || '') + ' ' + (item.title || item.name || '');
                        return !isEnglishOnly(text);
                    });
                    
                    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ "–í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥"
                    if (category === 'restaurants' && currentRestaurantType === 'high_rating') {
                        filteredData.sort((a, b) => {
                            const ratingA = parseFloat(a.google_rating) || 0;
                            const ratingB = parseFloat(b.google_rating) || 0;
                            return ratingB - ratingA; // –ü–æ —É–±—ã–≤–∞–Ω–∏—é
                        });
                    }
                    
                    console.log(`DEBUG: Rendering ${filteredData.length} items to ${gridId}`);
                    
                    // –û–±–Ω–æ–≤–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
                    const tabTitle = document.querySelector(`.tab-content[data-tab="${category}"] h2`);
                    if (tabTitle) {
                        const baseTitle = tabTitle.textContent.split(' (')[0];
                        tabTitle.textContent = `${baseTitle} (${filteredData.length})`;
                    }
                    
                    let html = filteredData.length ? filteredData.map(item => {
                        let channelName = (item.source_channel || '').replace('@', '');
                        let tgLink = item.message_id && channelName ? `https://t.me/${channelName}/${item.message_id}` : null;
                        
                        let images = item.all_images || (item.image_url ? [item.image_url] : []);
                        let sliderHtml = '';
                        let badgesHtml = '';
                        let typeLabel = '';
                        if (item.listing_type) {
                            if (item.listing_type.includes('sale') && item.listing_type.includes('rent')) {
                                typeLabel = '<span style="background:#d4af37;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üè† –ü—Ä–æ–¥–∞–∂–∞/–ê—Ä–µ–Ω–¥–∞</span>';
                            } else if (item.listing_type.includes('sale')) {
                                typeLabel = '<span style="background:#4CAF50;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üè† –ü—Ä–æ–¥–∞–∂–∞</span>';
                            } else if (item.listing_type.includes('rent')) {
                                typeLabel = '<span style="background:#2196F3;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üîë –ê—Ä–µ–Ω–¥–∞</span>';
                            }
                        }
                        if (item.rooms || item.area || typeLabel) {
                            badgesHtml = `<div style="position:absolute;top:8px;left:8px;display:flex;gap:6px;z-index:10;flex-wrap:wrap;">
                                ${typeLabel}
                                ${item.rooms ? `<span style="background:rgba(0,0,0,0.75);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üõè ${item.rooms}</span>` : ''}
                                ${item.area ? `<span style="background:rgba(0,0,0,0.75);color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600;">üìê ${item.area}m¬≤</span>` : ''}
                            </div>`;
                        }
                        // –ü–µ—Ä–µ–≤–æ–¥ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
                        function getCityRu(city) {
                            const cityMap = {
                                'Nha Trang': '–ù—è—á–∞–Ω–≥',
                                'Ho Chi Minh': '–•–æ—à–∏–º–∏–Ω',
                                'Da Nang': '–î–∞–Ω–∞–Ω–≥',
                                'Hanoi': '–•–∞–Ω–æ–π',
                                'Phu Quoc': '–§—É–∫—É–æ–∫',
                                'Phan Thiet': '–§–∞–Ω—Ç—å–µ—Ç',
                                'Cam Ranh': '–ö–∞–º—Ä–∞–Ω—å',
                                'Da Lat': '–î–∞–ª–∞—Ç',
                                'Hoi An': '–•–æ–π–∞–Ω',
                                'Mui Ne': '–ú—É–π–Ω–µ'
                            };
                            return cityMap[city] || city;
                        }
                        
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—É—Ö–Ω–∏ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤
                        let cuisineType = '';
                        let restTypeBadge = '';
                        let priceCatBadge = '';
                        if (category === 'restaurants') {
                            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–∏–ø –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
                            const restType = item.restaurant_type || '';
                            if (restType === '–∫–∞—Ñ–µ') restTypeBadge = '‚òï –ö–∞—Ñ–µ';
                            else if (restType === '–±–∞—Ä') restTypeBadge = 'üç∏ –ë–∞—Ä';
                            else if (restType === '–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã') restTypeBadge = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                            else if (restType === '—Ä–µ—Å—Ç–æ—Ä–∞–Ω') restTypeBadge = 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω';
                            
                            // –ö—É—Ö–Ω—è –∏–∑ –ø–æ–ª—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—è
                            if (item.kitchen) {
                                cuisineType = 'üç≥ ' + item.kitchen;
                            } else {
                                const desc = (item.description || '').toLowerCase();
                                if (desc.includes('–≤—å–µ—Ç–Ω–∞–º') || desc.includes('vi·ªát')) cuisineType = 'üçú –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è';
                                else if (desc.includes('—Ä—É—Å—Å–∫') || desc.includes('–±–æ—Ä—â') || desc.includes('–ø–µ–ª—å–º–µ–Ω')) cuisineType = 'ü•ò –†—É—Å—Å–∫–∞—è';
                                else if (desc.includes('–∏—Ç–∞–ª—å—è–Ω') || desc.includes('–ø–∏—Ü—Ü') || desc.includes('–ø–∞—Å—Ç')) cuisineType = 'üçï –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è';
                                else if (desc.includes('—è–ø–æ–Ω') || desc.includes('—Å—É—à–∏') || desc.includes('—Ä–æ–ª–ª')) cuisineType = 'üç£ –Ø–ø–æ–Ω—Å–∫–∞—è';
                                else if (desc.includes('–∫–∏—Ç–∞–π') || desc.includes('–∫–∏—Ç–∞–π—Å–∫')) cuisineType = 'ü•° –ö–∏—Ç–∞–π—Å–∫–∞—è';
                                else if (desc.includes('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') || desc.includes('seafood') || desc.includes('—Ä—ã–±')) cuisineType = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                                else if (desc.includes('–±–∞—Ä') || desc.includes('–∫–æ–∫—Ç–µ–π–ª')) cuisineType = 'üç∏ –ë–∞—Ä';
                                else if (desc.includes('–∫–æ—Ñ–µ') || desc.includes('cafe') || desc.includes('–∫–∞—Ñ–µ')) cuisineType = '‚òï –ö–∞—Ñ–µ';
                            }
                            
                            // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
                            if (!restTypeBadge) {
                                const desc = (item.description || '').toLowerCase();
                                if (desc.includes('–º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç') || desc.includes('seafood')) restTypeBadge = 'ü¶ê –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã';
                                else if (desc.includes('–±–∞—Ä') || desc.includes('–∫–æ–∫—Ç–µ–π–ª')) restTypeBadge = 'üç∏ –ë–∞—Ä';
                                else if (desc.includes('–∫–∞—Ñ–µ') || desc.includes('cafe') || desc.includes('–∫–æ—Ñ–µ')) restTypeBadge = '‚òï –ö–∞—Ñ–µ';
                                else restTypeBadge = 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω';
                            }
                            
                            // –¶–µ–Ω–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
                            const priceCat = item.price_category || '';
                            if (priceCat === 'cheap') priceCatBadge = 'üíµ';
                            else if (priceCat === 'normal') priceCatBadge = 'üíµüíµ';
                            else if (priceCat === 'expensive') priceCatBadge = 'üíµüíµüíµ';
                            
                            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω
                            if (!item.google_rating) {
                                const desc = item.description || '';
                                // –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã: "—Ä–µ–π—Ç–∏–Ω–≥ 4.5", "4,5/5", "4.8 –∏–∑ 5", "–æ—Ü–µ–Ω–∫–∞: 4.5", "‚≠ê4.5"
                                const ratingPatterns = [
                                    /—Ä–µ–π—Ç–∏–Ω–≥[:\s]*([345][,\.][0-9])/i,
                                    /–æ—Ü–µ–Ω–∫–∞[:\s]*([345][,\.][0-9])/i,
                                    /([345][,\.][0-9])\s*(?:–∏–∑\s*5|\/5|–∑–≤–µ–∑–¥)/i,
                                    /‚≠ê\s*([345][,\.][0-9])/,
                                    /rating[:\s]*([345][,\.][0-9])/i,
                                    /([345][,\.][0-9])\s*stars?/i
                                ];
                                for (const pattern of ratingPatterns) {
                                    const match = desc.match(pattern);
                                    if (match) {
                                        item.google_rating = match[1].replace(',', '.');
                                        break;
                                    }
                                }
                            }
                        }
                        
                        if (images.length > 0) {
                            sliderHtml = `
                            <div class="card-slider" id="slider-${item.id}" style="position:relative; height: 250px;">
                                <div style="position:absolute;top:8px;left:8px;display:flex;flex-direction:column;gap:4px;z-index:10;">
                                    ${category === 'restaurants' 
                                        ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                            <span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">${restTypeBadge}</span>
                                            ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìç ${getCityRu(item.city)}</span>` : ''}
                                            ${priceCatBadge ? `<span style="font-size:18px;text-shadow:0 1px 3px rgba(0,0,0,0.5);">${priceCatBadge}</span>` : ''}
                                        </div>
                                        ${item.google_rating ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${item.google_rating}</span>` : ''}`
                                        : (category === 'tours' 
                                            ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                ${item.days ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìÖ ${item.days} ${item.days == 1 ? '–¥–µ–Ω—å' : (item.days < 5 ? '–¥–Ω—è' : '–¥–Ω–µ–π')}</span>` : ''}
                                                ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üí∞ $${item.price}</span>` : ''}
                                                ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üèôÔ∏è ${getCityRu(item.city)}</span>` : ''}
                                            </div>`
                                            : (category === 'transport' || category === 'bike_rentals'
                                                ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                    ${item.city ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìç ${getCityRu(item.city)}</span>` : ''}
                                                    ${item.engine ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üîß ${item.engine}cc</span>` : ''}
                                                    ${item.year ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìÖ ${item.year}</span>` : ''}
                                                    ${item.transport_type ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üè∑Ô∏è ${item.transport_type === 'bikes' ? '–ú–æ—Ç–æ' : item.transport_type === 'cars' ? '–ê–≤—Ç–æ' : item.transport_type === 'yachts' ? '–Ø—Ö—Ç—ã' : item.transport_type}</span>` : ''}
                                                </div>`
                                                : (category === 'entertainment' 
                                                    ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                        ${item.feature ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">‚≠ê ${item.feature}</span>` : ''}
                                                        ${item.capacity ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üë• ${item.capacity}</span>` : ''}
                                                    </div>`
                                                    : (category === 'real_estate' || category === 'realestate' 
                                                        ? `<div style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                                                            <span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">${item.listing_type === 'rent' ? 'üîë –ê—Ä–µ–Ω–¥–∞' : 'üè† –ü—Ä–æ–¥–∞–∂–∞'}</span>
                                                            ${item.area ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üìê ${item.area}m¬≤</span>` : ''}
                                                            ${item.rooms ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üõè ${item.rooms} –∫–æ–º–Ω.</span>` : ''}
                                                            ${item.price ? `<span style="font-size:16px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.7);">üí∞ ${Number(item.price).toLocaleString('vi-VN')} VND</span>` : ''}
                                                        </div>`
                                                        : ''))))
                                    }
                                </div>
                                ${images.map((img, idx) => {
                                    // –§–æ—Ä—Å–∏—Ä—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è GitHub Raw
                                    let finalImg = img;
                                    if (img.includes('github.com') && !img.includes('raw.githubusercontent.com')) {
                                        finalImg = img.replace('github.com', 'raw.githubusercontent.com').replace('/blob/', '/');
                                    }
                                    return `<img src="${finalImg}" class="${idx === 0 ? 'active' : ''}" data-idx="${idx}" onerror="this.onerror=null;this.src='/static/images/placeholder.jpg';this.classList.add('active');" loading="lazy">`;
                                }).join('')}
                                ${images.length > 1 ? `
                                    <button class="slider-nav prev" onclick="changeListingImage('${item.id}', -1, event)">‚Äπ</button>
                                    <button class="slider-nav next" onclick="changeListingImage('${item.id}', 1, event)">‚Ä∫</button>
                                    <div class="slider-dots">
                                        ${images.map((_, idx) => `<div class="slider-dot ${idx === 0 ? 'active' : ''}" data-idx="${idx}"></div>`).join('')}
                                    </div>
                                ` : ''}
                            </div>`;
                        }

                        // Format description with bold labels and link from "OBJECT"
                        // –°–Ω–∞—á–∞–ª–∞ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º HTML —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å XSS –∏ —Å–ª–æ–º–∞–Ω–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏
                        let descText = escapeHtml((item.description || item.text || '').substring(0, 1000));
                        descText = descText
                            .replace(/(–û–ë–™–ï–ö–¢:|–û–±—ä–µ–∫—Ç:)/g, tgLink ? `<a href="${tgLink}" target="_blank" style="color:inherit; font-weight:bold; text-decoration:underline;">$1</a>` : '<b>$1</b>')
                            .replace(/(–¶–µ–Ω–∞:|–¶–ï–ù–ê:)/g, '<b>$1</b>')
                            .replace(/(–†–∞–π–æ–Ω:|–†–ê–ô–û–ù:)/g, '<b>$1</b>')
                            .replace(/(–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:|–†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï:)/g, '<b>$1</b>')
                            .replace(/(–ü–ª–æ—â–∞–¥—å:|–ü–õ–û–©–ê–î–¨:)/g, '<b>$1</b>')
                            .replace(/(–ú–µ–±–µ–ª—å:|–ú–ï–ë–ï–õ–¨:)/g, '<b>$1</b>')
                            .replace(/(–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:|–ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï:)/g, '<b>$1</b>')
                            .replace(/(–†—è–¥–æ–º:|–†–Ø–î–û–ú:)/g, '<b>$1</b>')
                            .replace(/(–°—Ç—Ä—É–∫—Ç—É—Ä–∞:|–°–¢–†–£–ö–¢–£–†–ê:)/g, '<b>$1</b>')
                            .replace(/(–¶–µ–Ω–∞:|–¶–ï–ù–ê:)([^<\n]+)/gi, '<b>$1</b>$2 <span style="color:#2196F3; font-weight:bold;">[+84-0797 018 179]</span>');

                        // –í—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞–µ–º —Ü–µ–Ω—É –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è (–ø–æ–ª–µ price –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ—Ä—á–µ–Ω–æ)
                        let displayPrice = '';
                        const desc = item.description || item.text || '';
                        // –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã: "40 000 000 VND", "4,600,000‚Ç´", "$500", "500$", "–¶–ï–ù–ê 6 –ú–ò–õ–õ–ò–û–ù–û–í"
                        const pricePatterns = [
                            /(\d[\d\s,.]*\d*)\s*(?:VND|vnd|‚Ç´|vnƒë)/i,
                            /(?:–¶–ï–ù–ê|–¶–µ–Ω–∞|Price|PRICE)[:\s-]*(\d[\d\s,.]*)\s*(?:–ú–ò–õ–õ–ò–û–ù|–º–ª–Ω|M|VND|‚Ç´|\$|USD)?/i,
                            /(\$\s*[\d,.\s]+|\d[\d,.\s]+\s*\$)/,
                            /(\d[\d\s,.]+)\s*(?:USD|USDT|THB|IDR|—Ä—É–±|–≥—Ä–Ω)/i
                        ];
                        for (const pattern of pricePatterns) {
                            const match = desc.match(pattern);
                            if (match) {
                                displayPrice = match[1].trim();
                                if (desc.includes('$') || desc.toLowerCase().includes('usd')) {
                                    displayPrice = '$' + displayPrice.replace(/\$/g, '');
                                } else {
                                    displayPrice = formatPrice(displayPrice);
                                }
                                break;
                            }
                        }

                        return `
                        <div class="card" style="display: flex; flex-direction: column; height: 100%;">
                            ${sliderHtml}
                            <div style="padding: 15px; display: flex; flex-direction: column; flex-grow: 1;">
                                <h3 style="color:#d4af37; margin-bottom:10px;">
                                    ${tgLink ? `<a href="${tgLink}" target="_blank" style="color:#d4af37; text-decoration:none;">${escapeHtml(item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ')}</a>` : escapeHtml(item.title || item.name || '–û–±—ä—è–≤–ª–µ–Ω–∏–µ')}
                                </h3>
                                <div style="font-size:13px; color:#444; line-height:1.6; overflow:hidden; display:-webkit-box; -webkit-line-clamp:12; -webkit-box-orient:vertical; margin-bottom:15px; white-space: pre-line;">
                                    ${descText}${(item.description || item.text || '').length > 1000 ? '...' : ''}
                                </div>
                                <div style="margin-top:auto; padding-top:12px; border-top:1px solid #eee;">
                                    <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ –∏ –¥–∞—Ç–∞ -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                                        <div style="background: #f5f5f5; padding: 8px; border-radius: 6px; text-align: center;">
                                            <div style="font-size: 11px; color: #888;">üìÖ –î–∞—Ç–∞</div>
                                            <div style="font-size: 13px; font-weight: 600; color: #333;">${(item.date || '2026-01-05').substring(0, 10)}</div>
                                        </div>
                                        <div style="background: #fff3e0; padding: 8px; border-radius: 6px; text-align: center;">
                                            <div style="font-size: 11px; color: #888;">üë§ –ö–æ–Ω—Ç–∞–∫—Ç</div>
                                            <div style="font-size: 12px; font-weight: 600; color: #e65100;">${item.contact_name || '-'}</div>
                                        </div>
                                    </div>
                                    <!-- –¶–µ–Ω–∞ -->
                                    ${(category === 'transport' || category === 'bike_rentals') 
                                        ? (item.price ? `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                            <span style="font-size: 18px; font-weight: bold;">üí∞ ${Number(item.price).toLocaleString('vi-VN')} VND</span>
                                        </div>` : '')
                                        : (category === 'tours' 
                                            ? (item.price ? `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                <span style="font-size: 18px; font-weight: bold;">üí∞ $${item.price}</span>
                                            </div>` : '')
                                            : (category === 'real_estate' || category === 'realestate'
                                                ? (displayPrice ? `<div style="background: transparent; border: 2px solid #d4af37; color: #d4af37; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                    <span style="font-size: 18px; font-weight: bold;">üí∞ ${displayPrice}</span>
                                                </div>` : '')
                                                : (displayPrice ? `<div style="background: linear-gradient(135deg, #d4af37, #f4d03f); color: #000; padding: 10px 12px; border-radius: 8px; margin-bottom: 10px; text-align: center;">
                                                    <span style="font-size: 18px; font-weight: bold;">üí∞ ${displayPrice}</span>
                                                </div>` : '')
                                            )
                                        )
                                    }
                                    <!-- WhatsApp –∏ Telegram –∫–Ω–æ–ø–∫–∏ -->
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                                        ${item.whatsapp ? `<a href="https://api.whatsapp.com/send/?phone=${item.whatsapp}&text&type=phone_number&app_absent=0" target="_blank" style="display: block; background: transparent; border: 2px solid #25D366; color: #25D366; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600;">
                                            üí¨ WhatsApp
                                        </a>` : `<div style="display: block; background: transparent; border: 2px solid #ccc; color: #999; padding: 10px; border-radius: 6px; text-align: center; font-weight: 600;">
                                            üí¨ WhatsApp
                                        </div>`}
                                        ${item.telegram ? `<a href="https://t.me/${item.telegram.replace('@', '')}" target="_blank" style="display: block; background: transparent; border: 2px solid #0088cc; color: #0088cc; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600;">
                                            ‚úàÔ∏è Telegram
                                        </a>` : `<div style="display: block; background: transparent; border: 2px solid #ccc; color: #999; padding: 10px; border-radius: 6px; text-align: center; font-weight: 600;">
                                            ‚úàÔ∏è Telegram
                                        </div>`}
                                    </div>
                                    ${category === 'restaurants' ? `
                                    <!-- Google Maps –∫–Ω–æ–ø–∫–∞ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ -->
                                    <a href="https://www.google.com/maps/search/${encodeURIComponent((item.title || item.name || '') + ' ' + (item.location || item.city || 'Vietnam'))}" target="_blank" style="display: block; background: transparent; border: 2px solid #4285F4; color: #4285F4; padding: 10px; border-radius: 6px; text-align: center; text-decoration: none; font-weight: 600; margin-bottom: 10px;">
                                        üìç –û—Ç–∫—Ä—ã—Ç—å –≤ Google Maps
                                    </a>
                                    ` : ''}
                                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                        ${item.external_link ? `<a href="${item.external_link}" target="_blank" style="flex: 1; min-width: 100px; display: inline-block; background: #d4af37; text-decoration: none; text-align: center; padding: 8px; border-radius: 6px; color: white; font-size: 12px; font-weight: 600;">üîó –û—Ä–∏–≥–∏–Ω–∞–ª</a>` : ''}
                                        ${tgLink ? `<a href="${tgLink}" target="_blank" class="btn tg-btn" style="flex: 1; min-width: 100px; display: inline-block; background: #0088cc; text-decoration: none; text-align: center; padding: 8px; border-radius: 6px; color: white; font-size: 12px; font-weight: 600;">‚úàÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</a>` : ''}
                                    </div>
                                    <div style="display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap;" data-listing-id="${item.id}">
                                        ${adminAuthenticated ? `<button onclick="openEditModal('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">‚úèÔ∏è</button>` : ''}
                                        ${adminAuthenticated ? `<button onclick="openMoveModal('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">‚ÜîÔ∏è</button>` : ''}
                                        ${adminAuthenticated ? `<button onclick="toggleVisibility('${item.id}', '${category}')" id="vis-btn-${item.id}" style="flex: 1; min-width: 60px; padding: 6px; background: ${item.hidden ? '#ff9800' : '#9e9e9e'}; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">${item.hidden ? 'üëÅÔ∏è' : 'üôà'}</button>` : ''}
                                        ${adminAuthenticated ? `<button onclick="openDeleteModal('${item.id}', '${category}')" style="flex: 1; min-width: 60px; padding: 6px; background: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: 600;">üóëÔ∏è</button>` : ''}
                                    </div>
                                    ${adminAuthenticated && item.hidden ? `<div style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; text-align: center; margin-top: 6px; font-size: 11px; font-weight: 600;">üôà –°–ö–†–´–¢–û</div>` : ''}
                                </div>
                            </div>
                        </div>
                    `}).join('') : '<div class="empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>';
                    
                    let element = document.getElementById(gridId);
                    if (element) {
                        element.innerHTML = html;
                        const cardCount = element.querySelectorAll('.card').length;
                        console.log(`DEBUG: DOM now has ${cardCount} cards in ${gridId}`);
                    }
                })
                .catch(err => console.error('Error loading listings:', err));
        }

        function saveConfig() {
            const config = {
                channels: document.getElementById('channels').value.split('\n').filter(c => c.trim()),
                auto_parse_interval: parseInt(document.getElementById('parse-interval').value) || 300
            };
            
            fetch(`/api/parser-config?country=${currentCountry}`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(config)
            })
            .then(r => r.json())
            .then(data => alert(data.success ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!' : '–û—à–∏–±–∫–∞'));
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∞–Ω–Ω–µ—Ä, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∫—É—Ä—Å—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
        loadBanners();
        updateAllCityCounts();
        renderKidsCityFilter();
        updateKidsCitySelect();
        updateFormCurrency();
        
        updateRates();
        loadStats();
        setInterval(updateRates, 60000);
        setInterval(loadStats, 5000);
        
        const visitorId = 'user_' + Math.random().toString(36).substr(2, 9);
        function pingOnline() {
            fetch(`/api/ping?uid=${visitorId}`)
                .then(r => r.json())
                .then(data => {
                    document.getElementById('online-count').textContent = data.online || 0;
                })
                .catch(() => {});
        }
        pingOnline();
        setInterval(pingOnline, 30000);

        // Duplicate updateBanner removed - using the one defined above

        let adminAuthenticated = false;
        let adminPassword_val = '';
        let adminCountry = null;
        const adminPassword = document.getElementById('admin-password');
        const adminStatus = document.getElementById('admin-status');
        const adminTools = document.getElementById('admin-tools');

        async function toggleVisibility(listingId, category) {
            console.log('Toggling visibility for:', listingId, 'from:', category);
            try {
                const response = await fetch('/api/admin/toggle-visibility', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword.value,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                if (data.success) {
                    const btn = document.getElementById('vis-btn-' + listingId);
                    if (btn) {
                        btn.style.background = data.hidden ? '#ff9800' : '#9e9e9e';
                        btn.textContent = data.hidden ? 'üëÅÔ∏è' : 'üôà';
                    }
                    const card = btn ? btn.closest('.card') : null;
                    if (card) {
                        let hiddenBadge = card.querySelector('.hidden-badge');
                        if (data.hidden && !hiddenBadge) {
                            const badge = document.createElement('div');
                            badge.className = 'hidden-badge';
                            badge.style.cssText = 'background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; text-align: center; margin-top: 6px; font-size: 11px; font-weight: 600;';
                            badge.textContent = 'üôà –°–ö–†–´–¢–û';
                            card.querySelector('.card-body').appendChild(badge);
                        } else if (!data.hidden && hiddenBadge) {
                            hiddenBadge.remove();
                        }
                    }
                    console.log(data.message);
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                }
            } catch (err) {
                console.error('Error toggling visibility:', err);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏');
            }
        }
        
        function openDeleteModal(listingId, category) {
            console.log('Opening delete modal for:', listingId, 'from:', category);
            document.getElementById('delete-modal-id').textContent = 'ID: ' + listingId;
            document.getElementById('delete-modal').setAttribute('data-id', listingId);
            document.getElementById('delete-modal').setAttribute('data-category', category);
            document.getElementById('delete-modal').style.display = 'flex';
        }

        async function openEditModal(listingId, category) {
            console.log('Opening edit modal for:', listingId, 'from:', category);
            document.getElementById('edit-modal-id').textContent = 'ID: ' + listingId;
            document.getElementById('edit-modal').setAttribute('data-id', listingId);
            document.getElementById('edit-modal').setAttribute('data-category', category);
            document.getElementById('edit-status').style.display = 'none';
            
            const restaurantFields = document.getElementById('edit-restaurant-fields');
            const realestateFields = document.getElementById('edit-realestate-fields');
            if (category === 'restaurants') {
                restaurantFields.style.display = 'block';
                realestateFields.style.display = 'none';
            } else {
                restaurantFields.style.display = 'none';
                realestateFields.style.display = 'block';
            }
            
            try {
                const response = await fetch('/api/admin/get-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId
                    })
                });
                const data = await response.json();
                
                if (data.error) {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                    return;
                }
                
                document.getElementById('edit-title').value = data.title || '';
                document.getElementById('edit-description').value = data.description || '';
                document.getElementById('edit-price').value = data.price || '';
                document.getElementById('edit-rooms').value = data.rooms || '';
                document.getElementById('edit-area').value = data.area || '';
                document.getElementById('edit-date').value = data.date ? data.date.split('T')[0] : '';
                document.getElementById('edit-contact-name').value = data.contact_name || '';
                document.getElementById('edit-whatsapp').value = data.whatsapp || '';
                document.getElementById('edit-telegram').value = data.telegram || '';
                const listingType = data.listing_type || '';
                document.getElementById('edit-type-sale').checked = listingType.includes('sale');
                document.getElementById('edit-type-rent').checked = listingType.includes('rent');
                
                if (category === 'restaurants') {
                    document.getElementById('edit-city').value = data.city || '';
                    document.getElementById('edit-kitchen').value = data.kitchen || '';
                    document.getElementById('edit-google-maps').value = data.google_maps || '';
                    document.getElementById('edit-google-rating').value = data.google_rating || '';
                    const restType = data.restaurant_type || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
                    document.querySelectorAll('input[name="edit-restaurant-type"]').forEach(r => {
                        r.checked = r.value === restType;
                    });
                    const priceCategory = data.price_category || 'normal';
                    document.querySelectorAll('input[name="edit-price-category"]').forEach(r => {
                        r.checked = r.value === priceCategory;
                    });
                }
                
                document.getElementById('edit-modal').style.display = 'flex';
            } catch (err) {
                console.error('Error loading listing:', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ');
            }
        }

        async function saveEditFromCard() {
            const modal = document.getElementById('edit-modal');
            const listingId = modal.getAttribute('data-id');
            const category = modal.getAttribute('data-category');
            const status = document.getElementById('edit-status');
            
            const updates = {
                title: document.getElementById('edit-title').value,
                description: document.getElementById('edit-description').value,
                price: document.getElementById('edit-price').value,
                rooms: document.getElementById('edit-rooms').value,
                area: document.getElementById('edit-area').value,
                date: document.getElementById('edit-date').value,
                contact_name: document.getElementById('edit-contact-name').value,
                whatsapp: document.getElementById('edit-whatsapp').value,
                telegram: document.getElementById('edit-telegram').value,
                listing_type: [
                    document.getElementById('edit-type-sale').checked ? 'sale' : '',
                    document.getElementById('edit-type-rent').checked ? 'rent' : ''
                ].filter(t => t).join(',') || null
            };
            
            if (category === 'restaurants') {
                updates.city = document.getElementById('edit-city').value;
                updates.kitchen = document.getElementById('edit-kitchen').value;
                updates.google_maps = document.getElementById('edit-google-maps').value;
                updates.google_rating = document.getElementById('edit-google-rating').value;
                updates.restaurant_type = document.querySelector('input[name="edit-restaurant-type"]:checked')?.value || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
                updates.price_category = document.querySelector('input[name="edit-price-category"]:checked')?.value || 'normal';
            }
            
            status.textContent = '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...';
            status.style.color = '#666';
            status.style.display = 'block';
            
            try {
                const response = await fetch('/api/admin/edit-listing', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        listing_id: listingId,
                        updates: updates
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    setTimeout(() => {
                        modal.style.display = 'none';
                        loadListings(category);
                    }, 1000);
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                }
            } catch (err) {
                console.error('Error saving:', err);
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è';
                status.style.color = '#ff6b6b';
            }
        }

        function renderAdminBanners() {
            const banners = bannerConfig[currentCountry] || [];
            const list = document.getElementById('admin-banners-list');
            if (!list) return;
            
            list.innerHTML = banners.map(url => `
                <div style="position: relative; border-radius: 6px; overflow: hidden; border: 1px solid #ddd; aspect-ratio: 16/9;">
                    <img src="${url}" style="width: 100%; height: 100%; object-fit: cover;">
                    <button onclick="deleteBannerAdmin('${url}')" style="position: absolute; top: 5px; right: 5px; background: rgba(255,0,0,0.8); color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer; font-size: 10px;">üóëÔ∏è</button>
                </div>
            `).join('');
        }

        async function uploadBannerAdmin() {
            const input = document.getElementById('banner-upload-input');
            const status = document.getElementById('banner-upload-status');
            if (!input.files || !input.files[0]) return;
            
            const formData = new FormData();
            formData.append('file', input.files[0]);
            formData.append('country', currentCountry);
            formData.append('password', adminPassword_val);
            
            status.textContent = '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...';
            status.style.color = '#666';
            
            try {
                const r = await fetch('/api/admin/upload-banner', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                if (data.success) {
                    status.textContent = '‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ!';
                    status.style.color = '#31a24c';
                    input.value = '';
                    await loadBanners();
                } else {
                    status.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + data.error;
                    status.style.color = '#ff6b6b';
                }
            } catch (e) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
                status.style.color = '#ff6b6b';
            }
        }

        async function deleteBannerAdmin(url) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –±–∞–Ω–Ω–µ—Ä?')) return;
            
            try {
                const r = await fetch('/api/admin/delete-banner', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        url: url
                    })
                });
                const data = await r.json();
                if (data.success) {
                    await loadBanners();
                } else {
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏');
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // ============ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ê–ù–ê–õ–ê–ú–ò ============
        const categoryNames = {
            'chat': '–ß–∞—Ç', 'restaurants': '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã', 'tours': '–≠–∫—Å–∫—É—Ä—Å–∏–∏',
            'transport': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', 'real_estate': '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
            'money_exchange': '–û–±–º–µ–Ω –¥–µ–Ω–µ–≥', 'entertainment': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
            'marketplace': '–ë–∞—Ä–∞—Ö–æ–ª–∫–∞', 'visas': '–í–∏–∑–∞—Ä–∞–Ω', 'news': '–§–æ—Ç–æ—Å–µ—Å—Å–∏—è',
            'medicine': '–ú–µ–¥–∏—Ü–∏–Ω–∞', 'kids': '–î–ª—è –¥–µ—Ç–µ–π'
        };

        async function loadChannelsAdmin() {
            if (!adminAuthenticated) return;
            
            try {
                const r = await fetch(`/api/admin/channels?country=${currentCountry}`);
                const data = await r.json();
                const container = document.getElementById('channels-list');
                
                let html = '';
                const channels = data.channels || {};
                
                for (const [category, list] of Object.entries(channels)) {
                    if (list && list.length > 0) {
                        html += `<div style="padding: 12px; border-bottom: 1px solid #eee;">
                            <div style="font-weight: 600; color: #1565c0; margin-bottom: 8px;">${categoryNames[category] || category} (${list.length})</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 6px;">`;
                        
                        for (const ch of list) {
                            html += `<div style="display: inline-flex; align-items: center; background: #f5f5f5; padding: 4px 10px; border-radius: 15px; font-size: 12px;">
                                <a href="https://t.me/${ch}" target="_blank" style="color: #0088cc; text-decoration: none;">@${ch}</a>
                                <button onclick="removeChannelAdmin('${category}', '${ch}')" style="background: none; border: none; color: #ff6b6b; cursor: pointer; margin-left: 6px; font-size: 14px;" title="–£–¥–∞–ª–∏—Ç—å">√ó</button>
                            </div>`;
                        }
                        
                        html += '</div></div>';
                    }
                }
                
                if (!html) {
                    html = '<div style="padding: 20px; text-align: center; color: #999;">–ù–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã</div>';
                }
                
                container.innerHTML = html;
            } catch (e) {
                console.error('Error loading channels:', e);
            }
        }

        async function addChannelAdmin() {
            const category = document.getElementById('channel-category').value;
            const channel = document.getElementById('new-channel-name').value.trim();
            const result = document.getElementById('channel-result');
            
            if (!channel) {
                result.innerHTML = '<span style="color: #ff6b6b;">–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–∞–Ω–∞–ª–∞</span>';
                return;
            }
            
            try {
                const r = await fetch('/api/admin/add-channel', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        channel: channel
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    result.innerHTML = '<span style="color: #31a24c;">‚úÖ ' + data.message + '</span>';
                    document.getElementById('new-channel-name').value = '';
                    loadChannelsAdmin();
                } else {
                    result.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        async function removeChannelAdmin(category, channel) {
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª @${channel}?`)) return;
            
            try {
                const r = await fetch('/api/admin/remove-channel', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        channel: channel
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    loadChannelsAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏
        async function loadCitiesAdmin() {
            const category = document.getElementById('city-category').value;
            const container = document.getElementById('cities-list');
            
            try {
                const r = await fetch(`/api/admin/cities?country=${currentCountry}&category=${category}&password=${encodeURIComponent(adminPassword_val)}`);
                const data = await r.json();
                
                if (data.cities && data.cities.length > 0) {
                    container.innerHTML = data.cities.map(city => `
                        <div style="background: #f9f9f9; border-radius: 8px; overflow: hidden; border: 1px solid #ddd;">
                            <img src="${city.image}" style="width: 100%; height: 120px; object-fit: cover;" onerror="this.src='/static/icons/placeholder.png'">
                            <div style="padding: 10px;">
                                <input type="text" value="${city.name}" id="city-name-${city.id}" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 8px; font-weight: 600;">
                                <div style="display: flex; gap: 5px;">
                                    <button onclick="updateCityAdmin('${city.id}')" style="flex: 1; padding: 6px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px;">üíæ</button>
                                    <label style="flex: 1; padding: 6px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px; text-align: center;">
                                        üì∑
                                        <input type="file" accept="image/*" onchange="updateCityPhotoAdmin('${city.id}', this)" style="display: none;">
                                    </label>
                                    <button onclick="deleteCityAdmin('${city.id}')" style="flex: 1; padding: 6px; background: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 11px;">üóëÔ∏è</button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                } else {
                    container.innerHTML = '<p style="color: #666; text-align: center; padding: 20px;">–ù–µ—Ç –≥–æ—Ä–æ–¥–æ–≤ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>';
                }
            } catch (e) {
                container.innerHTML = '<p style="color: #ff6b6b; text-align: center;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>';
            }
        }

        async function addCityAdmin() {
            const category = document.getElementById('city-category').value;
            const name = document.getElementById('new-city-name').value.trim();
            const photoInput = document.getElementById('new-city-photo');
            const result = document.getElementById('city-result');
            
            if (!name) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</span>';
                return;
            }
            
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('category', category);
            formData.append('name', name);
            if (photoInput.files[0]) {
                formData.append('photo', photoInput.files[0]);
            }
            
            try {
                const r = await fetch('/api/admin/add-city', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    result.innerHTML = '<span style="color: #4CAF50;">‚úÖ ' + data.message + '</span>';
                    document.getElementById('new-city-name').value = '';
                    photoInput.value = '';
                    loadCitiesAdmin();
                } else {
                    result.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                result.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        async function updateCityAdmin(cityId) {
            const category = document.getElementById('city-category').value;
            const name = document.getElementById(`city-name-${cityId}`).value.trim();
            
            try {
                const r = await fetch('/api/admin/update-city', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        city_id: cityId,
                        name: name
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    alert('‚úÖ –ì–æ—Ä–æ–¥ –æ–±–Ω–æ–≤–ª—ë–Ω');
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        async function updateCityPhotoAdmin(cityId, input) {
            if (!input.files[0]) return;
            
            const category = document.getElementById('city-category').value;
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('category', category);
            formData.append('city_id', cityId);
            formData.append('photo', input.files[0]);
            
            try {
                const r = await fetch('/api/admin/update-city-photo', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    loadCitiesAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        async function deleteCityAdmin(cityId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥?')) return;
            
            const category = document.getElementById('city-category').value;
            
            try {
                const r = await fetch('/api/admin/delete-city', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        category: category,
                        city_id: cityId
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    loadCitiesAdmin();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || 'Unknown'));
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
        function openCityEditModal(section, index, cityName, imageUrl) {
            document.getElementById('city-edit-section').value = section;
            document.getElementById('city-edit-index').value = index;
            document.getElementById('city-edit-old-name').value = cityName;
            document.getElementById('city-edit-name').value = cityName;
            document.getElementById('city-edit-photo').value = '';
            document.getElementById('city-edit-status').innerHTML = '';
            
            const preview = document.getElementById('city-edit-preview');
            if (imageUrl) {
                preview.src = imageUrl;
                preview.style.display = 'block';
            } else {
                preview.style.display = 'none';
            }
            
            document.getElementById('city-edit-modal').style.display = 'flex';
        }
        
        function closeCityEditModal() {
            document.getElementById('city-edit-modal').style.display = 'none';
        }
        
        async function saveCityChanges() {
            const section = document.getElementById('city-edit-section').value;
            const oldName = document.getElementById('city-edit-old-name').value;
            const newName = document.getElementById('city-edit-name').value.trim();
            const photoInput = document.getElementById('city-edit-photo');
            const status = document.getElementById('city-edit-status');
            
            if (!newName) {
                status.innerHTML = '<span style="color: #ff6b6b;">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞</span>';
                return;
            }
            
            status.innerHTML = '<span style="color: #1565c0;">üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>';
            
            const formData = new FormData();
            formData.append('password', adminPassword_val);
            formData.append('country', currentCountry);
            formData.append('section', section);
            formData.append('old_name', oldName);
            formData.append('new_name', newName);
            if (photoInput.files[0]) {
                formData.append('photo', photoInput.files[0]);
            }
            
            try {
                const r = await fetch('/api/admin/edit-city-inline', {
                    method: 'POST',
                    body: formData
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!</span>';
                    setTimeout(() => {
                        closeCityEditModal();
                        renderDynamicCityButtons();
                    }, 500);
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        async function moveCityPosition(direction) {
            const section = document.getElementById('city-edit-section').value;
            const index = parseInt(document.getElementById('city-edit-index').value);
            const cityName = document.getElementById('city-edit-old-name').value;
            const status = document.getElementById('city-edit-status');
            
            status.innerHTML = '<span style="color: #1565c0;">üîÑ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ...</span>';
            
            try {
                const r = await fetch('/api/admin/move-city-position', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        section: section,
                        city_name: cityName,
                        direction: direction
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = '<span style="color: #4CAF50;">‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–æ!</span>';
                    document.getElementById('city-edit-index').value = index + direction;
                    setTimeout(() => {
                        closeCityEditModal();
                        renderDynamicCityButtons();
                    }, 500);
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }
        
        async function deleteCityFromModal() {
            const section = document.getElementById('city-edit-section').value;
            const cityName = document.getElementById('city-edit-old-name').value;
            const status = document.getElementById('city-edit-status');
            
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å –≥–æ—Ä–æ–¥ "${cityName}"?`)) return;
            
            status.innerHTML = '<span style="color: #1565c0;">üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ...</span>';
            
            try {
                const r = await fetch('/api/admin/delete-city-inline', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        section: section,
                        city_name: cityName
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    closeCityEditModal();
                    renderDynamicCityButtons();
                } else {
                    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå ' + (data.error || '–û—à–∏–±–∫–∞') + '</span>';
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
            }
        }

        // –†—É—á–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
        async function startManualParser() {
            const channel = document.getElementById('parser-channel').value.trim();
            const category = document.getElementById('parser-category').value;
            const limit = parseInt(document.getElementById('parser-limit').value) || 100;
            const btn = document.getElementById('parser-btn');
            const status = document.getElementById('parser-status');
            const log = document.getElementById('parser-log');
            
            if (!channel) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</span>';
                return;
            }
            
            btn.disabled = true;
            btn.textContent = '‚è≥ –ü–∞—Ä—Å–∏–Ω–≥...';
            status.innerHTML = '<span style="color: #FF9800;">üîÑ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞...</span>';
            log.style.display = 'block';
            log.innerHTML = `[${new Date().toLocaleTimeString()}] –ù–∞—á–∏–Ω–∞—é –ø–∞—Ä—Å–∏–Ω–≥ –∫–∞–Ω–∞–ª–∞ ${channel}...\n`;
            
            try {
                const r = await fetch('/api/admin/manual-parse', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel: channel,
                        category: category,
                        limit: limit
                    })
                });
                const data = await r.json();
                
                if (data.success) {
                    status.innerHTML = `<span style="color: #4CAF50;">‚úÖ ${data.message}</span>`;
                    log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚úÖ –£—Å–ø–µ—à–Ω–æ! –î–æ–±–∞–≤–ª–µ–Ω–æ ${data.count || 0} –æ–±—ä—è–≤–ª–µ–Ω–∏–π\n`;
                    if (data.log) {
                        log.innerHTML += data.log;
                    }
                } else {
                    status.innerHTML = `<span style="color: #ff6b6b;">‚ùå ${data.error || '–û—à–∏–±–∫–∞'}</span>`;
                    log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚ùå –û—à–∏–±–∫–∞: ${data.error || 'Unknown'}\n`;
                }
            } catch (e) {
                status.innerHTML = '<span style="color: #ff6b6b;">‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏</span>';
                log.innerHTML += `[${new Date().toLocaleTimeString()}] ‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${e.message}\n`;
            }
            
            btn.disabled = false;
            btn.textContent = 'üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥';
        }

        // –ö–∞–ø—á–∞
        function loadCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('captcha-question').textContent = data.question;
                    document.getElementById('captcha-answer').value = data.token;
                });
        }

        // –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
        document.getElementById('submit-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('title', document.getElementById('submit-title').value);
            formData.append('description', document.getElementById('submit-description').value);
            formData.append('price', document.getElementById('submit-price').value || '0');
            formData.append('rooms', document.getElementById('submit-rooms').value);
            formData.append('area', document.getElementById('submit-area').value);
            formData.append('location', document.getElementById('submit-location').value);
            formData.append('city', document.getElementById('submit-city').value);
            formData.append('contact_name', document.getElementById('submit-contact-name').value);
            formData.append('whatsapp', document.getElementById('submit-whatsapp').value);
            formData.append('telegram', document.getElementById('submit-telegram').value);
            
            const listingType = [
                document.getElementById('submit-type-sale').checked ? 'sale' : '',
                document.getElementById('submit-type-rent').checked ? 'rent' : ''
            ].filter(t => t).join(',');
            formData.append('listing_type', listingType);
            
            formData.append('captcha_answer', document.getElementById('submit-captcha').value);
            formData.append('captcha_token', document.getElementById('captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`submit-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-listing', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-form').reset();
                    loadCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        function loadRestaurantCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('restaurant-captcha-question').textContent = data.question;
                    document.getElementById('restaurant-captcha-answer').value = data.token;
                });
        }

        function loadEntertainmentCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('entertainment-captcha-question').textContent = data.question;
                    document.getElementById('entertainment-captcha-answer').value = data.token;
                });
        }

        function loadTourCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('tour-captcha-question').textContent = data.question;
                    document.getElementById('tour-captcha-answer').value = data.token;
                });
        }

        function loadTransportCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('transport-captcha-question').textContent = data.question;
                    document.getElementById('transport-captcha-answer').value = data.token;
                });
        }

        function loadRealEstateCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('realestate-captcha-question').textContent = data.question;
                    document.getElementById('realestate-captcha-answer').value = data.token;
                });
        }

        function loadKidsCaptcha() {
            fetch('/api/captcha')
                .then(r => r.json())
                .then(data => {
                    document.getElementById('kids-captcha-question').textContent = data.question;
                    document.getElementById('kids-captcha-answer').value = data.token;
                });
        }

        document.getElementById('submit-kids-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('kids-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'kids');
            formData.append('title', document.getElementById('kids-title').value);
            formData.append('kids_type', document.querySelector('input[name="kids-type"]:checked')?.value || 'schools');
            formData.append('description', document.getElementById('kids-description').value);
            formData.append('city', document.getElementById('kids-city').value);
            formData.append('age', document.getElementById('kids-age').value);
            formData.append('location', document.getElementById('kids-location').value);
            formData.append('google_maps', document.getElementById('kids-google-maps').value);
            formData.append('contact_name', document.getElementById('kids-contact-name').value);
            formData.append('whatsapp', document.getElementById('kids-whatsapp').value);
            formData.append('telegram', document.getElementById('kids-telegram').value);
            formData.append('captcha_answer', document.getElementById('kids-captcha').value);
            formData.append('captcha_token', document.getElementById('kids-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`kids-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-kids', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-kids-form').reset();
                    loadKidsCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadKidsCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-restaurant-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('restaurant-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'restaurants');
            formData.append('title', document.getElementById('restaurant-title').value);
            
            const restaurantType = document.querySelector('input[name="restaurant-type"]:checked')?.value || '—Ä–µ—Å—Ç–æ—Ä–∞–Ω';
            formData.append('restaurant_type', restaurantType);
            
            formData.append('description', document.getElementById('restaurant-description').value);
            formData.append('kitchen', document.getElementById('restaurant-kitchen').value);
            formData.append('location', document.getElementById('restaurant-location').value);
            formData.append('city', document.getElementById('restaurant-city').value);
            formData.append('google_maps', document.getElementById('restaurant-google-maps').value);
            formData.append('contact_name', document.getElementById('restaurant-contact-name').value);
            formData.append('whatsapp', document.getElementById('restaurant-whatsapp').value);
            formData.append('telegram', document.getElementById('restaurant-telegram').value);
            
            const priceCategory = document.querySelector('input[name="restaurant-price-category"]:checked')?.value || 'normal';
            formData.append('price_category', priceCategory);
            
            formData.append('captcha_answer', document.getElementById('restaurant-captcha').value);
            formData.append('captcha_token', document.getElementById('restaurant-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`restaurant-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-restaurant', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-restaurant-form').reset();
                    loadRestaurantCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadRestaurantCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-entertainment-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('entertainment-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'entertainment');
            formData.append('title', document.getElementById('entertainment-title').value);
            formData.append('description', document.getElementById('entertainment-description').value);
            formData.append('feature', document.getElementById('entertainment-feature').value);
            formData.append('location', document.getElementById('entertainment-location').value);
            formData.append('city', document.getElementById('entertainment-city').value);
            formData.append('contact_name', document.getElementById('entertainment-contact-name').value);
            formData.append('whatsapp', document.getElementById('entertainment-whatsapp').value);
            formData.append('telegram', document.getElementById('entertainment-telegram').value);
            
            const capacity = document.querySelector('input[name="entertainment-capacity"]:checked')?.value || '50';
            formData.append('capacity', capacity);
            
            formData.append('captcha_answer', document.getElementById('entertainment-captcha').value);
            formData.append('captcha_token', document.getElementById('entertainment-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`entertainment-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-entertainment', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-entertainment-form').reset();
                    loadEntertainmentCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadEntertainmentCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-tour-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('tour-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'tours');
            formData.append('title', document.getElementById('tour-title').value);
            formData.append('description', document.getElementById('tour-description').value);
            formData.append('days', document.getElementById('tour-days').value);
            formData.append('price', document.getElementById('tour-price').value);
            formData.append('location', document.getElementById('tour-location').value);
            formData.append('city', document.getElementById('tour-city').value);
            formData.append('contact_name', document.getElementById('tour-contact-name').value);
            formData.append('whatsapp', document.getElementById('tour-whatsapp').value);
            formData.append('telegram', document.getElementById('tour-telegram').value);
            
            const groupSize = document.querySelector('input[name="tour-group-size"]:checked')?.value || '5';
            formData.append('group_size', groupSize);
            
            formData.append('captcha_answer', document.getElementById('tour-captcha').value);
            formData.append('captcha_token', document.getElementById('tour-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`tour-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-tour', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-tour-form').reset();
                    loadTourCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadTourCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-transport-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('transport-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'transport');
            formData.append('title', document.getElementById('transport-title').value);
            formData.append('description', document.getElementById('transport-description').value);
            formData.append('engine', document.getElementById('transport-engine').value);
            formData.append('year', document.getElementById('transport-year').value);
            formData.append('price', document.getElementById('transport-price').value);
            formData.append('transport_type', document.getElementById('transport-type').value);
            formData.append('location', document.getElementById('transport-location').value);
            formData.append('city', document.getElementById('transport-city').value);
            formData.append('contact_name', document.getElementById('transport-contact-name').value);
            formData.append('whatsapp', document.getElementById('transport-whatsapp').value);
            formData.append('telegram', document.getElementById('transport-telegram').value);
            
            formData.append('captcha_answer', document.getElementById('transport-captcha').value);
            formData.append('captcha_token', document.getElementById('transport-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`transport-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-transport', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-transport-form').reset();
                    loadTransportCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadTransportCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        document.getElementById('submit-realestate-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('realestate-submit-status');
            status.style.display = 'block';
            status.textContent = '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.color = '#666';

            const formData = new FormData();
            formData.append('country', currentCountry);
            formData.append('category', 'real_estate');
            formData.append('title', document.getElementById('realestate-title').value);
            formData.append('description', document.getElementById('realestate-description').value);
            formData.append('realestate_type', document.querySelector('input[name="realestate-type"]:checked').value);
            formData.append('rooms', document.getElementById('realestate-rooms').value);
            formData.append('area', document.getElementById('realestate-area').value);
            formData.append('price', document.getElementById('realestate-price').value);
            formData.append('city', document.getElementById('realestate-city').value);
            formData.append('location', document.getElementById('realestate-location').value);
            formData.append('google_maps', document.getElementById('realestate-google-maps').value);
            formData.append('contact_name', document.getElementById('realestate-contact-name').value);
            formData.append('whatsapp', document.getElementById('realestate-whatsapp').value);
            formData.append('telegram', document.getElementById('realestate-telegram').value);
            
            formData.append('captcha_answer', document.getElementById('realestate-captcha').value);
            formData.append('captcha_token', document.getElementById('realestate-captcha-answer').value);

            for (let i = 0; i < 4; i++) {
                const file = document.getElementById(`realestate-photo-${i}`).files[0];
                if (file) {
                    if (file.size > 1024 * 1024) {
                        status.textContent = `‚ùå –§–æ—Ç–æ ${i+1} –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë`;
                        status.style.color = '#ff6b6b';
                        return;
                    }
                    formData.append(`photo_${i}`, file);
                }
            }

            try {
                const response = await fetch('/api/submit-realestate', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                
                if (data.success) {
                    status.textContent = '‚úÖ ' + data.message;
                    status.style.color = '#4CAF50';
                    document.getElementById('submit-realestate-form').reset();
                    loadRealEstateCaptcha();
                } else {
                    status.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    status.style.color = '#ff6b6b';
                    loadRealEstateCaptcha();
                }
            } catch (err) {
                status.textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
                status.style.color = '#ff6b6b';
            }
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏
        async function loadPendingListings() {
            try {
                const response = await fetch('/api/admin/pending', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: adminPassword_val, country: currentCountry })
                });
                const data = await response.json();
                
                if (data.error) {
                    document.getElementById('pending-count').textContent = '‚ùå ' + data.error;
                    return;
                }
                
                document.getElementById('pending-count').textContent = `üìã –û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏: ${data.length}`;
                
                if (data.length === 0) {
                    document.getElementById('pending-list').innerHTML = '<p style="color: #666;">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</p>';
                    return;
                }
                
                document.getElementById('pending-list').innerHTML = data.map(item => `
                    <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; border: 1px solid #ddd; margin-bottom: 15px;">
                        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                            ${item.image_url ? `<img src="${item.image_url}" style="width: 200px; height: 150px; object-fit: cover; border-radius: 8px;">` : ''}
                            <div style="flex: 1; min-width: 300px;">
                                <h4 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">${item.title}</h4>
                                <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; max-height: 300px; overflow-y: auto; margin-bottom: 15px;">
                                    <p style="margin: 0; font-size: 14px; color: #444; line-height: 1.6; white-space: pre-wrap;">${item.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</p>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; font-size: 13px; color: #666; background: white; padding: 10px; border-radius: 6px;">
                                    <div>üí∞ –¶–µ–Ω–∞: <b>${item.price?.toLocaleString() || '0'}</b></div>
                                    <div>üë§ –ö–æ–Ω—Ç–∞–∫—Ç: <b>${item.contact_name || '-'}</b></div>
                                    <div>üìû –¢–µ–ª–µ—Ñ–æ–Ω: <b>${item.whatsapp || item.contact || '-'}</b></div>
                                    <div>‚úàÔ∏è Telegram: <b>${item.telegram || '-'}</b></div>
                                    <div>üìç –ì–æ—Ä–æ–¥: <b>${item.city || '-'}</b></div>
                                    <div>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: <b>${item.category || 'real_estate'}</b></div>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button onclick="moderateListing('${item.id}', 'approve')" style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px;">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
                            <button onclick="moderateListing('${item.id}', 'reject')" style="flex: 1; padding: 12px; background: #ff6b6b; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 15px;">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
            } catch (err) {
                document.getElementById('pending-count').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }

        async function moderateListing(listingId, action) {
            try {
                const response = await fetch('/api/admin/moderate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        listing_id: listingId,
                        action: action
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    loadPendingListings();
                    if (action === 'approve') {
                        loadListings('real_estate');
                    }
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏');
            }
        }

        async function loadPendingAdsChannels() {
            try {
                const response = await fetch(`/api/ads-channels?country=${currentCountry}&pending=1`);
                const data = await response.json();
                
                const countEl = document.getElementById('pending-ads-count');
                const listEl = document.getElementById('pending-ads-list');
                
                countEl.textContent = `üì¢ –û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏: ${data.channels.length}`;
                
                if (data.channels.length === 0) {
                    listEl.innerHTML = '<p style="color: #666;">–ù–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é</p>';
                    return;
                }
                
                const categoryNames = {
                    'chat': 'üí¨ –ß–∞—Ç', 'visas': 'üèñÔ∏è –í–∏–∑—ã', 'realestate': 'üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                    'transport': 'üèçÔ∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', 'exchange': 'üí± –û–±–º–µ–Ω', 'marketplace': 'üõçÔ∏è –ë–∞—Ä–∞—Ö–æ–ª–∫–∞',
                    'restaurants': 'üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã', 'tours': 'üß≥ –≠–∫—Å–∫—É—Ä—Å–∏–∏', 'entertainment': 'üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
                    'medicine': 'üè• –ú–µ–¥–∏—Ü–∏–Ω–∞', 'news': 'üì∞ –ù–æ–≤–æ—Å—Ç–∏'
                };
                
                listEl.innerHTML = data.channels.map(ch => `
                    <div style="background: #f9f9f9; border-radius: 8px; padding: 15px; border: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <div>
                            <div style="font-weight: 600; font-size: 15px;">${ch.name}</div>
                            <div style="font-size: 13px; color: #666;">${categoryNames[ch.category] || ch.category} | ${ch.members.toLocaleString()} –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ | $${ch.price}</div>
                            <div style="font-size: 12px; color: #888;">–ö–æ–Ω—Ç–∞–∫—Ç: ${ch.contact}</div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button onclick="moderateAdsChannel('${ch.id}', 'approve')" style="padding: 8px 16px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
                            <button onclick="moderateAdsChannel('${ch.id}', 'reject')" style="padding: 8px 16px; background: #ff6b6b; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
            } catch (err) {
                document.getElementById('pending-ads-count').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }
        
        async function moderateAdsChannel(channelId, action) {
            try {
                const response = await fetch('/api/admin/ads-channels/approve', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: adminPassword_val,
                        country: currentCountry,
                        channel_id: channelId,
                        action: action
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    alert(data.message);
                    loadPendingAdsChannels();
                    loadAdsChannels();
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
                }
            } catch (err) {
                alert('–û—à–∏–±–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏');
            }
        }

        function adminAuth() {
            const password = adminPassword.value;
            fetch('/api/admin/auth', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password})
            })
            .then(r => r.json())
            .then(data => {
                if (data.authenticated) {
                    adminAuthenticated = true;
                    adminPassword_val = password;
                    adminCountry = data.country;
                    
                    const countryNames = {
                        'vietnam': 'üáªüá≥ –í—å–µ—Ç–Ω–∞–º',
                        'thailand': 'üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥',
                        'india': 'üáÆüá≥ –ò–Ω–¥–∏—è',
                        'indonesia': 'üáÆüá© –ò–Ω–¥–æ–Ω–µ–∑–∏—è'
                    };
                    
                    adminStatus.textContent = adminCountry === 'all' ? '‚úÖ –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω (–≤—Å–µ —Å—Ç—Ä–∞–Ω—ã)' : '‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: ' + countryNames[adminCountry];
                    adminStatus.style.color = '#31a24c';
                    adminTools.style.display = 'block';
                    adminPassword.disabled = true;
                    document.querySelector('button[onclick="adminAuth()"]').disabled = true;
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω—É –∞–¥–º–∏–Ω–∞ (–∫—Ä–æ–º–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞)
                    if (adminCountry && adminCountry !== 'all' && currentCountry !== adminCountry) {
                        switchCountry(adminCountry);
                    }
                    
                    renderAdminBanners();
                    loadChannelsAdmin();
                    loadBlacklist();
                    renderDynamicCityButtons(); // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≥–æ—Ä–æ–¥–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
                    const currentTab = document.querySelector('.tab.active');
                    if (currentTab) {
                        const tabName = currentTab.getAttribute('data-tab');
                        const categoryMap = {'stats': 'restaurants', 'transport': 'transport', 'realestate': 'real_estate', 'exchange': 'money_exchange'};
                        const category = categoryMap[tabName] || tabName;
                        if (tabName !== 'stats' && tabName !== 'admin' && tabName !== 'settings') loadListings(category);
                    }
                } else {
                    adminStatus.textContent = '‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å';
                    adminStatus.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                adminStatus.textContent = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è';
                adminStatus.style.color = '#ff6b6b';
            });
        }

        function openMoveModal(listingId, fromCategory) {
            console.log('Opening move modal for:', listingId, 'from:', fromCategory);
            document.getElementById('move-modal-id').textContent = 'ID: ' + listingId;
            document.getElementById('move-modal').setAttribute('data-id', listingId);
            document.getElementById('move-modal').setAttribute('data-from', fromCategory);
            
            const select = document.getElementById('move-modal-category');
            if (select) select.value = 'restaurants';
            
            document.getElementById('move-modal').style.display = 'flex';
        }

        function confirmMoveFromCard() {
            const modal = document.getElementById('move-modal');
            const listingId = modal.getAttribute('data-id');
            const fromCategory = modal.getAttribute('data-from');
            const toCategory = document.getElementById('move-modal-category').value;

            if (fromCategory === toCategory) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é');
                return;
            }

            fetch('/api/admin/move-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    password: adminPassword_val || adminPassword.value, 
                    country: currentCountry, 
                    from_category: fromCategory, 
                    to_category: toCategory, 
                    listing_id: listingId
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    const card = document.querySelector(`[data-listing-id="${listingId}"]`);
                    if (card) card.remove();
                    modal.style.display = 'none';
                    alert('‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ!');
                    setTimeout(() => loadListings(fromCategory), 500);
                } else {
                    alert('‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'));
                }
            })
            .catch(err => alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'));
        }

        function confirmDeleteFromCard() {
            const modal = document.getElementById('delete-modal');
            const listingId = modal.getAttribute('data-id');
            const category = modal.getAttribute('data-category');

            fetch('/api/admin/delete-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    password: adminPassword_val || adminPassword.value, 
                    country: currentCountry, 
                    category: category, 
                    listing_id: listingId
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    const card = document.querySelector(`[data-listing-id="${listingId}"]`);
                    if (card) card.remove();
                    modal.style.display = 'none';
                    alert('‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ!');
                    setTimeout(() => loadListings(category), 500);
                } else {
                    alert('‚ùå ' + (data.error || '–û—à–∏–±–∫–∞'));
                }
            })
            .catch(err => alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'));
        }

        function deleteListingAdmin() {
            if (!adminAuthenticated) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å');
                return;
            }
            const category = document.getElementById('delete-category').value;
            const listing_id = document.getElementById('delete-id').value;
            const password = adminPassword.value;
            const result = document.getElementById('delete-result');

            if (!listing_id) {
                result.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ ID –æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                result.style.color = '#ff6b6b';
                return;
            }

            fetch('/api/admin/delete-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password, country: currentCountry, category, listing_id})
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    result.textContent = '‚úÖ ' + data.message;
                    result.style.color = '#31a24c';
                    document.getElementById('delete-id').value = '';
                    loadListings(category);
                } else {
                    result.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    result.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                result.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
                result.style.color = '#ff6b6b';
            });
        }

        function moveListingAdmin() {
            if (!adminAuthenticated) {
                alert('–°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å');
                return;
            }
            const listing_id = document.getElementById('move-id').value;
            const from_category = document.getElementById('move-from').value;
            const to_category = document.getElementById('move-to').value;
            const password = adminPassword.value;
            const result = document.getElementById('move-result');

            if (!listing_id) {
                result.textContent = '‚ùå –í–≤–µ–¥–∏—Ç–µ ID –æ–±—ä—è–≤–ª–µ–Ω–∏—è';
                result.style.color = '#ff6b6b';
                return;
            }

            if (from_category === to_category) {
                result.textContent = '‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–ª–∏—á–∞—Ç—å—Å—è';
                result.style.color = '#ff6b6b';
                return;
            }

            fetch('/api/admin/move-listing', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({password, country: currentCountry, from_category, to_category, listing_id})
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    result.textContent = '‚úÖ ' + data.message;
                    result.style.color = '#31a24c';
                    document.getElementById('move-id').value = '';
                    loadListings(from_category);
                } else {
                    result.textContent = '‚ùå ' + (data.error || '–û—à–∏–±–∫–∞');
                    result.style.color = '#ff6b6b';
                }
            })
            .catch(err => {
                result.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
                result.style.color = '#ff6b6b';
            });
        }
    </script>
</body>
</html>
